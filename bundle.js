!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectedId=void 0,e.convertDateIntoMongoDB=w,e.convertDateFromMongoDB=D,e.showPlaces=C;var o,a=n(2),i=e.selectedId=void 0,p="//localhost:8080/"+c()+"/trip-list",r='<li class="js-trip-item">\n      <div class="trip-title">\n        <p><span class="trip-item-name js-trip-item-name"></span></p>\n        <p><span class="trip-item-location js-trip-item-location"></span></p>\n        <p><span class="trip-item-dates js-trip-item-dates"></span></p>\n      </div>\n\n      <div class="trip-controls">\n\n\n        <button title="View comments" class="trip-item-view js-trip-item-view">\n          <img src="img/view.png" />\n        </button>\n\n        <button  title="Add place" class="trip-item-add">\n          <img src="img/add.png" />\n        </button>\n\n        <button  title="Edit" class="trip-item-edit js-trip-item-edit">\n          <img src="img/edit.png" />\n        </button>\n\n        <button  title="Delete" class="trip-item-delete js-trip-item-delete">\n          <img src="img/delete.png" />\n        </button>\n\n      <div>\n     \n    </li>';function c(){var t=window.location.search.split("=");return $.getJSON(p,function(t){0!==t.length?y(t[0].location):($(".popup-overlay-new-trip, .popup-content-new-trip").addClass("active"),$(".box-parent").addClass("inactive"))}),t[1],t[1]}function l(){console.log("Retrieving trip list"),$.getJSON(p,function(t){console.log("Rendering trip list"),console.log(t);var e=t.map(function(t){console.log(t);var e=$(r);e.attr("id",t.id),e.find(".js-trip-item-name").text(t.name),e.find(".js-trip-item-location").text(t.location);var n=e.find(".js-trip-item-dates"),o=D(t.tripDates);return n.text(o),e});$(".js-trip-list").html(e)})}function s(t){$.ajax({method:"POST",url:p,data:JSON.stringify(t),success:function(){l()},dataType:"json",contentType:"application/json"}).then(function(){console.log("Adding trip: "+t),l(),y(t.location),$.getJSON(p,function(t){e.selectedId=i=t[0].id}),$(".popup-overlay-new-trip, .popup-content-new-trip").removeClass("active"),$(".box-parent").removeClass("inactive"),$("#js-new-name").val(""),$("#js-new-location").val(""),$("#js-new-textArea").val(""),$("#js-new-dates").val("")}).then(function(){$(".popup-overlay-view-addPlaceForm, .popup-content-view-addPlaceForm").addClass("active"),$(".box-parent").addClass("inactive"),$(".popup-content-view-addPlaceForm").html('        \n    <h3>Please, add place you have visited </h3>\n    <div class="addPlaceForm-controls">\n  \n    <button class="button js-trip-item-addPlace">\n      Add\n    </button>\n  \n    <button class="button js-trip-item-skipAddTrip">\n       Skip\n    </button>\n  \n  <div>\n')})}function d(){$("#js-trip-item-add").on("click",function(){$(".popup-overlay-new-trip, .popup-content-new-trip").addClass("active"),$(".box-parent").addClass("inactive")}),$("#js-add-trip-form").submit(function(t){t.preventDefault();var e=function(t){return{name:$(t.currentTarget).find("#js-new-name").val(),location:$(t.currentTarget).find("#js-new-location").val(),content:$(t.currentTarget).find("#js-new-textArea").val(),tripDates:$(t.currentTarget).find("#js-new-dates").val()}}(t);e.tripDates=w(e.tripDates),s(e)})}function u(){$("main").on("click",".js-trip-item-delete",function(t){t.preventDefault(),function(t){console.log("Deleting trip `"+t+"`"),$.ajax({url:p+"/"+t,method:"DELETE",success:l})}($(t.currentTarget).closest(".js-trip-item").attr("id"))}),$.getJSON(p,function(t){0!==t.length&&y(t[0].location)})}function v(){$(".popup-content-add-place").html('        \n  <form id="js-add-place-form">\n  <label for="js-add-place-form"><span> <h4>Please add place you have visited in '+o+' </h4> </span></label>\n  <input type="text" name="js-trip-place-name" id="js-place-name" placeholder="Golden Gate Bridge ...." required><br>\n  \n  <button type="submit" class="button" id="addPlace">\n    Add\n  </button>\n  \n  <button class="button js-trip-addPlace-close">\n    Cancel\n  </button>\n\n  </form>\n')}console.log("USERID: ",c());var m=function(t){return function(e){var n=e.data.results[0].geometry.location.lat,o=e.data.results[0].geometry.location.lng,r={name:t,lat:n,lng:o};$.ajax({method:"POST",url:p+"/"+i+"/places",data:JSON.stringify(r),success:function(){l()},dataType:"json",contentType:"application/json"}),(0,a.displayPlaceOnMap)(r),$(".popup-overlay-add-place, .popup-content-add-place").removeClass("active"),$(".popup-overlay-view-oneMorePlace, .popup-content-view-oneMorePlace").addClass("active"),$(".popup-content-view-oneMorePlace").html('        \n    <div id="js-add-oneMorePlace">\n\n    <h2>Add one more place?</h2>\n    \n    <button type="submit" class= "button" id="addOneMorePlace">\n      Yes\n    </button>\n    \n    <button class="button js-trip-addOneMorePlace-cancel">\n      No\n    </button>\n\n    </div>\n    ')}};function f(){$("main").on("click",".js-trip-item-view",function(t){t.preventDefault(),$(".popup-overlay-view-fullTrip, .popup-content-view-fullTrip").addClass("active"),$(".box-parent").addClass("inactive");var e=$(t.currentTarget).closest(".js-trip-item");$.getJSON(p,function(t){!function(t){$(".popup-content-view-fullTrip").html('        \n  <div id="full-trip-view">\n    <p><span class="trip-item js-full-trip-content"></span>'+t.content+'</p>\n  </div>\n  <div class="full-trip-controls">\n  <button class="button js-trip-item-editcontent">\n    Edit\n  </button>\n  <button class="button js-trip-item-close">\n    Cancel\n  </button>\n<div>\n')}(t.find(function(t){return t.id===e.attr("id")}))})})}function g(){$("main").on("click",".js-trip-item-editcontent",function(t){t.preventDefault(),$.getJSON(p,function(t){var e=t.find(function(t){return t.id===i});!function(t){$("#js-upd-content-form").find("#js-upd-textArea").val(t.content),$(".popup-overlay-view-fullTrip, .popup-content-view-fullTrip").removeClass("active"),$(".popup-overlay-view-content, .popup-content-view-content").addClass("active"),$(".box-parent").addClass("inactive")}(e),function(t){$("#js-upd-content-form").on("click","#updatecontent",function(e){e.preventDefault();var n={id:t.id,name:t.name,location:t.location,content:$("#js-upd-content-form").find("textarea").val(),tripDates:t.tripdates};console.log(p+"/"+n.id),console.log("Updating trip item `"+n.id+"`"),console.log(n),i===n.id&&(b(n),$(".popup-overlay-view-content, .popup-content-view-content").removeClass("active"),$(".box-parent").removeClass("inactive"))})}(e)})})}function j(){$("main").on("click",".js-trip-item-edit",function(t){t.preventDefault(),$.getJSON(p,function(t){!function(t){$("#js-upd-trip-form").find("#js-upd-name").val(t.name),$("#js-upd-trip-form").find("#js-upd-location").val(t.location),$("#js-upd-trip-form").find("#js-upd-textArea").val(t.content);var e=D(t.tripDates);$("#js-upd-trip-form").find("#js-upd-dates").val(e),$(".popup-overlay-upd-trip, .popup-content-upd-trip").addClass("active"),$(".box-parent").addClass("inactive")}(t.find(function(t){return t.id===i}))}),function(t){$("#js-upd-trip-form").on("click","#updatetrip",function(e){e.preventDefault();var n={id:t,name:$("#js-upd-trip-form").find('input[name="js-upd-trip-form-name"]').val(),location:$("#js-upd-trip-form").find('input[name="js-upd-trip-form-location"]').val(),tripDates:$("#js-upd-trip-form").find('input[name="js-upd-trip-form-dates"]').val()};console.log(n.content);var o=n.tripDates;n.tripDates=w(o),console.log(p+"/"+n.id),console.log("Updating trip item `"+n.id+"`"),i===n.id&&b(n)})}(i)})}function b(t){$.ajax({url:p+"/"+t.id,method:"PUT",data:JSON.stringify(t),success:function(t){l()},dataType:"json",contentType:"application/json"}).then(function(){$(".popup-overlay-upd-trip, .popup-content-upd-trip").removeClass("active"),$(".box-parent").removeClass("inactive"),$("#js-upd-name").val(""),$("#js-upd-location").val(""),$("#js-upd-textArea").val(""),$("#js-upd-dates").val("")}).then(function(){console.log("Updating trip list: "+t),l();var e=t.tripDates.startDate+"/"+t.tripDates.endDate;t.tripDates=D(e)})}function y(t){axios.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t,key:"AIzaSyDqKYCI1XhXLez68nZki75U4Nizx0Au6v8"}}).then(function(t){(0,a.geocodeAddress)(t)}).catch(function(t){console.log(t)})}function w(t){var e=t.split("-"),n=new Date(e[0]),o=new Date(e[1]),a={startDate:{type:Date,required:!0},endDate:{type:Date,required:!0}};return a.startDate=n,a.endDate=o,a}function D(t){var e=t.split("/"),n=new Date(e[0]),o=new Date(e[1]);return n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear()+" - "+(o.getMonth()+1+"/"+o.getDate()+"/"+o.getFullYear())}function C(t){$.getJSON(p,function(e){for(var n=e.find(function(e){return e.id===t}),o=0;o<n.places.length;o++)(0,a.displayPlaceOnMap)(n.places[o])})}window.saveAndRenderMarker=m,window.initMap=a.initMap,$(function(){l(),u(),function(){var t;$("main").on("click",".trip-title",function(n){n.preventDefault();var a=$(n.currentTarget).closest(".js-trip-item");if(e.selectedId=i=a.attr("id"),C(i),t)t!==p&&(t.find(".trip-controls").removeClass("active"),p=$(n.currentTarget).closest(".js-trip-item"),o=p.find(".js-trip-item-location").text(),p.find(".trip-controls").addClass("active"),y(o),t=p);else{var p=$(n.currentTarget).closest(".js-trip-item");o=p.find(".js-trip-item-location").text(),p.find(".trip-controls").addClass("active"),y(o),t=p}})}(),d(),j(),$("main").on("click",".js-trip-item-addPlace, .trip-item-add",function(t){t.preventDefault(),$(".popup-overlay-view-addPlaceForm, .popup-content-view-addPlaceForm").removeClass("active"),$(".popup-overlay-add-place, .popup-content-add-place").addClass("active"),$(".box-parent").addClass("inactive"),v()}),f(),$("main").on("click",".js-trip-item-close",function(t){t.preventDefault(),$(".popup-overlay-view-fullTrip, .popup-content-view-fullTrip").removeClass("active"),$(".box-parent").removeClass("inactive")}),$("main").on("click",".js-trip-upd-close",function(t){t.preventDefault(),$(".popup-overlay-view-content, .popup-content-view-content").removeClass("active"),$(".popup-overlay-upd-trip, .popup-content-upd-trip").removeClass("active"),$(".box-parent").removeClass("inactive")}),$("main").on("click",".js-trip-addPlace-close",function(t){t.preventDefault(),$(".popup-overlay-add-place, .popup-content-add-place").removeClass("active"),$(".box-parent").removeClass("inactive")}),$("main").on("click","#addPlace",function(t){t.preventDefault();var e=$("#js-add-place-form").find('input[name="js-trip-place-name"]').val();(0,a.getCoordsOfPlace)(e).then(m(e)).catch(function(t){console.log(t)})}),$("main").on("click",".js-trip-item-skipAddTrip",function(t){$(".popup-overlay-view-addPlaceForm, .popup-content-view-addPlaceForm").removeClass("active"),$(".box-parent").removeClass("inactive")}),$("main").on("click","#addOneMorePlace",function(t){t.preventDefault(),$(".popup-overlay-view-oneMorePlace, .popup-content-view-oneMorePlace").removeClass("active"),$(".popup-overlay-add-place, .popup-content-add-place").addClass("active"),$("#js-place-name").val("")}),v(),$("main").on("click",".js-trip-addOneMorePlace-cancel",function(t){t.preventDefault(),$(".popup-overlay-view-oneMorePlace, .popup-content-view-oneMorePlace").removeClass("active"),$(".box-parent").removeClass("inactive")}),g(),$("main").on("click",".canceltrip",function(t){t.preventDefault(),$(".popup-overlay-new-trip, .popup-content-new-trip").removeClass("active"),$(".box-parent").removeClass("inactive")})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initMap=function(){var t;$.getJSON(o,function(e){t=e[0],console.log(t.location)}).then(function(t){console.log(t[0].location),axios.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t[0].location,key:"AIzaSyDqKYCI1XhXLez68nZki75U4Nizx0Au6v8"}}).then(function(t){i(t)}).catch(function(t){console.log(t)})})},e.geocodeAddress=i,e.getCoordsOfPlace=function(t){return axios.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t,key:"AIzaSyDqKYCI1XhXLez68nZki75U4Nizx0Au6v8"}})},e.displayPlaceOnMap=function(t){new google.maps.Marker({position:{lat:Number(t.lat),lng:Number(t.lng)},map:a,icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"})};var o="//localhost:8080/trip-list";var a=e.map=void 0;function i(t){console.log(t);var n=t.data.results[0].formatted_address,o=t.data.results[0].geometry.location.lat,i=t.data.results[0].geometry.location.lng;console.log(o),console.log(i),console.log(n),e.map=a=new google.maps.Map(document.getElementById("map"),{center:{lat:Number(o),lng:Number(i)},zoom:12})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL2NsaWVudC9nb29nbGUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjb252ZXJ0RGF0ZUludG9Nb25nb0RCIiwiY29udmVydERhdGVGcm9tTW9uZ29EQiIsInNob3dQbGFjZXMiLCJsb2NhdGlvbiIsIl9nb29nbGUiLCJzZWxlY3RlZElkIiwiVFJJUF9MSVNUX1VSTCIsImdldFVzZXJJZCIsInRyaXBJdGVtVGVtcGxhdGUiLCJhcnJheSIsIndpbmRvdyIsInNlYXJjaCIsInNwbGl0IiwiJCIsImdldEpTT04iLCJpdGVtcyIsImxlbmd0aCIsInJlbmRlclNlbGVjdGVkTWFwIiwiYWRkQ2xhc3MiLCJnZXRBbmREaXNwbGF5VHJpcExpc3QiLCJjb25zb2xlIiwibG9nIiwiaXRlbUVsZW1lbnRzIiwibWFwIiwiaXRlbSIsImVsZW1lbnQiLCJhdHRyIiwiaWQiLCJmaW5kIiwidGV4dCIsIml0ZW1UcmlwRGF0ZXMiLCJjb252ZXJ0ZWRJdGVtVHJpcERhdGVzIiwidHJpcERhdGVzIiwiaHRtbCIsImFkZFRyaXBJdGVtIiwiYWpheCIsIm1ldGhvZCIsInVybCIsImRhdGEiLCJKU09OIiwic3RyaW5naWZ5Iiwic3VjY2VzcyIsImRhdGFUeXBlIiwiY29udGVudFR5cGUiLCJ0aGVuIiwicmVtb3ZlQ2xhc3MiLCJ2YWwiLCJoYW5kbGVUcmlwTGlzdEFkZCIsIm9uIiwic3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhcmdldCIsImNvbnRlbnQiLCJnZXRUcmlwRm9ybURldGFpbHMiLCJoYW5kbGVUcmlwRGVsZXRlIiwidHJpcElkIiwiZGVsZXRldHJpcCIsImNsb3Nlc3QiLCJhZGRQbGFjZUZvcm0iLCJzYXZlQW5kUmVuZGVyTWFya2VyIiwicGxhY2UiLCJyZXNwb25zZSIsImxhdCIsInJlc3VsdHMiLCJnZW9tZXRyeSIsImxuZyIsIml0ZW1QbGFjZSIsImRpc3BsYXlQbGFjZU9uTWFwIiwiaGFkbGVWaWV3VHJpcCIsInVwZGF0ZVZpZXdGdWxsVHJpcCIsImhhbmRsZUNvbnRlbnRFZGl0IiwiZ2V0Q29udGVudEZvcm1XaXRoRGV0YWlscyIsIm5ld0l0ZW0iLCJ0cmlwZGF0ZXMiLCJydW5BamF4Iiwic2F2ZVVwZGF0ZWRDb250ZW50IiwiaGFuZGxlVHJpcEVkaXQiLCJjb252ZXJ0ZWRUcmlwRGF0ZXMiLCJnZXRUcmlwRm9ybVdpdGhEZXRhaWxzIiwibW9uZ29Gb3JtYXREYXRlIiwic2F2ZVVwZGF0ZWRUcmlwIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImF4aW9zIiwicGFyYW1zIiwiYWRkcmVzcyIsImdlb2NvZGVBZGRyZXNzIiwiY2F0Y2giLCJlcnJvciIsIkRhdGUiLCJ0eXBlIiwicmVxdWlyZWQiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRGdWxsWWVhciIsInBsYWNlcyIsImluaXRNYXAiLCJwcmV2RWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwiaGFuZGxlU2VsZWN0VHJpcCIsImdldENvb3Jkc09mUGxhY2UiLCJsYXN0SXRlbSIsImdvb2dsZSIsIm1hcHMiLCJNYXJrZXIiLCJwb3NpdGlvbiIsIk51bWJlciIsImljb24iLCJzZXJ2ZXJCYXNlIiwiZm9ybWF0dGVkQWRkcmVzcyIsImZvcm1hdHRlZF9hZGRyZXNzIiwiTWFwIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNlbnRlciIsInpvb20iXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFB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SzRDLE9BQU94QyxFQUFVSixLQUN0QkcsSUFBS3lDLE9BQU94QyxFQUFVRCxNQUV4QjNDLElBQUtBLEVBQ0xxRixLQUFNLG9HQXZFVixJQUNJdEcsRUFBZ0J1Ryw2QkE0QmIsSUFBSXRGLGVBQ0osU0FBU2dFLEVBQWV6QixHQUc3QjFDLFFBQVFDLElBQUl5QyxHQUdaLElBQUlnRCxFQUFtQmhELEVBQVN4QixLQUFLMEIsUUFBUSxHQUFHK0Msa0JBRzVDaEQsRUFBTUQsRUFBU3hCLEtBQUswQixRQUFRLEdBQUdDLFNBQVM5RCxTQUFTNEQsSUFDakRHLEVBQU1KLEVBQVN4QixLQUFLMEIsUUFBUSxHQUFHQyxTQUFTOUQsU0FBUytELElBRXJEOUMsUUFBUUMsSUFBSTBDLEdBQ1ozQyxRQUFRQyxJQUFJNkMsR0FDWjlDLFFBQVFDLElBQUl5RixHQUNaaEosRUFoQlN5RCxJQWdCVEEsRUFBTSxJQUFJZ0YsT0FBT0MsS0FBS1EsSUFBSUMsU0FBU0MsZUFBZSxRQUNoREMsUUFDRXBELElBQUs0QyxPQUFPNUMsR0FDWkcsSUFBS3lDLE9BQU96QyxJQUVka0QsS0FBTSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHtcclxuICBpbml0TWFwLFxyXG4gIGdlb2NvZGVBZGRyZXNzLFxyXG4gIGdldENvb3Jkc09mUGxhY2UsXHJcbiAgZGlzcGxheVBsYWNlT25NYXBcclxufSBmcm9tICcuL2dvb2dsZSdcclxuXHJcblxyXG5cclxuZXhwb3J0IHZhciBzZWxlY3RlZElkO1xyXG52YXIgbG9jYXRpb247XHJcbnZhciB1c2VySWQ7XHJcbnZhciBzZXJ2ZXJCYXNlID0gXCIvL2xvY2FsaG9zdDo4MDgwL1wiO1xyXG52YXIgVFJJUF9MSVNUX1VSTCA9IHNlcnZlckJhc2UgKyBnZXRVc2VySWQoKSArICcvdHJpcC1saXN0JztcclxuXHJcbi8vVGVtcGxhdGUgZm9yIHRyaXAgaXRlbS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxudmFyIHRyaXBJdGVtVGVtcGxhdGUgPSAoXHJcbiAgYDxsaSBjbGFzcz1cImpzLXRyaXAtaXRlbVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidHJpcC10aXRsZVwiPlxyXG4gICAgICAgIDxwPjxzcGFuIGNsYXNzPVwidHJpcC1pdGVtLW5hbWUganMtdHJpcC1pdGVtLW5hbWVcIj48L3NwYW4+PC9wPlxyXG4gICAgICAgIDxwPjxzcGFuIGNsYXNzPVwidHJpcC1pdGVtLWxvY2F0aW9uIGpzLXRyaXAtaXRlbS1sb2NhdGlvblwiPjwvc3Bhbj48L3A+XHJcbiAgICAgICAgPHA+PHNwYW4gY2xhc3M9XCJ0cmlwLWl0ZW0tZGF0ZXMganMtdHJpcC1pdGVtLWRhdGVzXCI+PC9zcGFuPjwvcD5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzPVwidHJpcC1jb250cm9sc1wiPlxyXG5cclxuXHJcbiAgICAgICAgPGJ1dHRvbiB0aXRsZT1cIlZpZXcgY29tbWVudHNcIiBjbGFzcz1cInRyaXAtaXRlbS12aWV3IGpzLXRyaXAtaXRlbS12aWV3XCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cImltZy92aWV3LnBuZ1wiIC8+XHJcbiAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgIDxidXR0b24gIHRpdGxlPVwiQWRkIHBsYWNlXCIgY2xhc3M9XCJ0cmlwLWl0ZW0tYWRkXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cImltZy9hZGQucG5nXCIgLz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgPGJ1dHRvbiAgdGl0bGU9XCJFZGl0XCIgY2xhc3M9XCJ0cmlwLWl0ZW0tZWRpdCBqcy10cmlwLWl0ZW0tZWRpdFwiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCJpbWcvZWRpdC5wbmdcIiAvPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICA8YnV0dG9uICB0aXRsZT1cIkRlbGV0ZVwiIGNsYXNzPVwidHJpcC1pdGVtLWRlbGV0ZSBqcy10cmlwLWl0ZW0tZGVsZXRlXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cImltZy9kZWxldGUucG5nXCIgLz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgXHJcbiAgICA8L2xpPmBcclxuKTtcclxuLy8tRW5kIEJsb2NrLS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcblxyXG4vLyBHZXQgdXNlcklkIGZyb20gVVJMLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gZ2V0VXNlcklkKCkge1xyXG4gIGNvbnN0IGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xyXG4gIHZhciBhcnJheSA9IGxvY2F0aW9uLnNlYXJjaC5zcGxpdCgnPScpO1xyXG4gICQuZ2V0SlNPTihUUklQX0xJU1RfVVJMLCBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgIGlmKGl0ZW1zLmxlbmd0aCE9PTApe1xyXG4gICAgICByZW5kZXJTZWxlY3RlZE1hcChpdGVtc1swXS5sb2NhdGlvbik7XHJcbiAgICB9IGVsc2V7XHJcbiAgICAgICQoJy5wb3B1cC1vdmVybGF5LW5ldy10cmlwLCAucG9wdXAtY29udGVudC1uZXctdHJpcCcpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAkKFwiLmJveC1wYXJlbnRcIikuYWRkQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgfSlcclxuICB1c2VySWQgPSBhcnJheVsxXTtcclxuICByZXR1cm4gYXJyYXlbMV07XHJcbn1cclxuY29uc29sZS5sb2coXCJVU0VSSUQ6IFwiLCBnZXRVc2VySWQoKSk7XHJcbi8vLUVuZCBCbG9jay0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vIExvYWRpbmcgSW5pdGlhbC91cGRhdGVkIGxpc3Qgb2YgdHJpcHMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gZ2V0QW5kRGlzcGxheVRyaXBMaXN0KCkge1xyXG4gIGNvbnNvbGUubG9nKCdSZXRyaWV2aW5nIHRyaXAgbGlzdCcpO1xyXG4gICQuZ2V0SlNPTihUUklQX0xJU1RfVVJMLCBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgIGNvbnNvbGUubG9nKCdSZW5kZXJpbmcgdHJpcCBsaXN0Jyk7XHJcbiAgICBjb25zb2xlLmxvZyhpdGVtcyk7XHJcbiAgICB2YXIgaXRlbUVsZW1lbnRzID0gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhpdGVtKTtcclxuXHJcbiAgICAgIHZhciBlbGVtZW50ID0gJCh0cmlwSXRlbVRlbXBsYXRlKTtcclxuICAgICAgZWxlbWVudC5hdHRyKCdpZCcsIGl0ZW0uaWQpO1xyXG5cclxuICAgICAgdmFyIGl0ZW1OYW1lID0gZWxlbWVudC5maW5kKCcuanMtdHJpcC1pdGVtLW5hbWUnKTtcclxuICAgICAgaXRlbU5hbWUudGV4dChpdGVtLm5hbWUpO1xyXG5cclxuICAgICAgdmFyIGl0ZW1Mb2NhdGlvbiA9IGVsZW1lbnQuZmluZCgnLmpzLXRyaXAtaXRlbS1sb2NhdGlvbicpO1xyXG4gICAgICBpdGVtTG9jYXRpb24udGV4dChpdGVtLmxvY2F0aW9uKTtcclxuXHJcbiAgICAgIHZhciBpdGVtVHJpcERhdGVzID0gZWxlbWVudC5maW5kKCcuanMtdHJpcC1pdGVtLWRhdGVzJyk7XHJcbiAgICAgIHZhciBjb252ZXJ0ZWRJdGVtVHJpcERhdGVzID0gY29udmVydERhdGVGcm9tTW9uZ29EQihpdGVtLnRyaXBEYXRlcyk7XHJcbiAgICAgIGl0ZW1UcmlwRGF0ZXMudGV4dChjb252ZXJ0ZWRJdGVtVHJpcERhdGVzKTtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanMtdHJpcC1saXN0JykuaHRtbChpdGVtRWxlbWVudHMpO1xyXG4gICAgXHJcbiAgfSk7XHJcbn1cclxuLy8tRW5kIEJsb2NrLS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy9BZGRpbmcgbmV3IHRyaXAgaXRlbS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2xvc2VOZXdUcmlwRm9ybSgpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5jYW5jZWx0cmlwJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICQoXCIucG9wdXAtb3ZlcmxheS1uZXctdHJpcCwgLnBvcHVwLWNvbnRlbnQtbmV3LXRyaXBcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLmJveC1wYXJlbnRcIikucmVtb3ZlQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyVHJpcEZvcm0oKSB7XHJcbiAgJCgnI2pzLXRyaXAtaXRlbS1hZGQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcucG9wdXAtb3ZlcmxheS1uZXctdHJpcCwgLnBvcHVwLWNvbnRlbnQtbmV3LXRyaXAnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoXCIuYm94LXBhcmVudFwiKS5hZGRDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRUcmlwSXRlbShpdGVtKSB7XHJcbiAgJC5hamF4KHtcclxuICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICB1cmw6IFRSSVBfTElTVF9VUkwsXHJcbiAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShpdGVtKSxcclxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgZ2V0QW5kRGlzcGxheVRyaXBMaXN0KCk7XHJcbiAgICB9LFxyXG4gICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgfSkudGhlbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkFkZGluZyB0cmlwOiBcIiArIGl0ZW0pO1xyXG4gICAgZ2V0QW5kRGlzcGxheVRyaXBMaXN0KCk7XHJcbiAgICByZW5kZXJTZWxlY3RlZE1hcChpdGVtLmxvY2F0aW9uKTtcclxuXHJcbiAgICAkLmdldEpTT04oVFJJUF9MSVNUX1VSTCwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICAgIHNlbGVjdGVkSWQgPSBpdGVtc1swXS5pZDtcclxuICAgIH0pXHJcbiAgICAkKFwiLnBvcHVwLW92ZXJsYXktbmV3LXRyaXAsIC5wb3B1cC1jb250ZW50LW5ldy10cmlwXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5ib3gtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcblxyXG4gICAgJCgnI2pzLW5ldy1uYW1lJykudmFsKCcnKTtcclxuICAgICQoJyNqcy1uZXctbG9jYXRpb24nKS52YWwoJycpO1xyXG4gICAgJCgnI2pzLW5ldy10ZXh0QXJlYScpLnZhbCgnJyk7XHJcbiAgICAkKCcjanMtbmV3LWRhdGVzJykudmFsKCcnKTtcclxuICB9KS50aGVuKCgpPT57ICAgXHJcbiAgICAkKCcucG9wdXAtb3ZlcmxheS12aWV3LWFkZFBsYWNlRm9ybSwgLnBvcHVwLWNvbnRlbnQtdmlldy1hZGRQbGFjZUZvcm0nKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoXCIuYm94LXBhcmVudFwiKS5hZGRDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gICAgcmVuZGVyQWRkUGxhY2VGb3JtKCk7XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVUcmlwTGlzdEFkZCgpIHtcclxuICByZW5kZXJUcmlwRm9ybSgpO1xyXG4gICQoXCIjanMtYWRkLXRyaXAtZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IGl0ZW0gPSBnZXRUcmlwRm9ybURldGFpbHMoZSk7XHJcbiAgICBpdGVtLnRyaXBEYXRlcyA9IGNvbnZlcnREYXRlSW50b01vbmdvREIoaXRlbS50cmlwRGF0ZXMpO1xyXG4gICAgYWRkVHJpcEl0ZW0oaXRlbSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRyaXBGb3JtRGV0YWlscyhlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCcjanMtbmV3LW5hbWUnKS52YWwoKSxcclxuICAgIGxvY2F0aW9uOiAkKGUuY3VycmVudFRhcmdldCkuZmluZCgnI2pzLW5ldy1sb2NhdGlvbicpLnZhbCgpLFxyXG4gICAgY29udGVudDogJChlLmN1cnJlbnRUYXJnZXQpLmZpbmQoJyNqcy1uZXctdGV4dEFyZWEnKS52YWwoKSxcclxuICAgIHRyaXBEYXRlczogJChlLmN1cnJlbnRUYXJnZXQpLmZpbmQoJyNqcy1uZXctZGF0ZXMnKS52YWwoKVxyXG4gIH1cclxufVxyXG5mdW5jdGlvbiByZW5kZXJBZGRQbGFjZUZvcm0oKXtcclxuICAkKCcucG9wdXAtY29udGVudC12aWV3LWFkZFBsYWNlRm9ybScpLmh0bWwoYCAgICAgICAgXHJcbiAgICA8aDM+UGxlYXNlLCBhZGQgcGxhY2UgeW91IGhhdmUgdmlzaXRlZCA8L2gzPlxyXG4gICAgPGRpdiBjbGFzcz1cImFkZFBsYWNlRm9ybS1jb250cm9sc1wiPlxyXG4gIFxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBqcy10cmlwLWl0ZW0tYWRkUGxhY2VcIj5cclxuICAgICAgQWRkXHJcbiAgICA8L2J1dHRvbj5cclxuICBcclxuICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24ganMtdHJpcC1pdGVtLXNraXBBZGRUcmlwXCI+XHJcbiAgICAgICBTa2lwXHJcbiAgICA8L2J1dHRvbj5cclxuICBcclxuICA8ZGl2PlxyXG5gKTtcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVTa2lwQWRkUGxhY2VGb3JtKCkge1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnLmpzLXRyaXAtaXRlbS1za2lwQWRkVHJpcCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAkKFwiLnBvcHVwLW92ZXJsYXktdmlldy1hZGRQbGFjZUZvcm0sIC5wb3B1cC1jb250ZW50LXZpZXctYWRkUGxhY2VGb3JtXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5ib3gtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcbiAgfSk7XHJcbn1cclxuLy8tRW5kIEJsb2NrLS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy9EZWxldGUgdHJpcCBpdGVtLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIGRlbGV0ZXRyaXAodHJpcElkKSB7XHJcbiAgY29uc29sZS5sb2coJ0RlbGV0aW5nIHRyaXAgYCcgKyB0cmlwSWQgKyAnYCcpO1xyXG4gICQuYWpheCh7XHJcbiAgICB1cmw6IFRSSVBfTElTVF9VUkwgKyAnLycgKyB0cmlwSWQsXHJcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgc3VjY2VzczogZ2V0QW5kRGlzcGxheVRyaXBMaXN0XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVUcmlwRGVsZXRlKCkge1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnLmpzLXRyaXAtaXRlbS1kZWxldGUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZGVsZXRldHJpcChcclxuICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy5qcy10cmlwLWl0ZW0nKS5hdHRyKCdpZCcpKTtcclxuXHJcbiAgfSk7XHJcblxyXG4gICQuZ2V0SlNPTihUUklQX0xJU1RfVVJMLCBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgIGlmKGl0ZW1zLmxlbmd0aCE9PTApe1xyXG4gICAgICByZW5kZXJTZWxlY3RlZE1hcChpdGVtc1swXS5sb2NhdGlvbik7XHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG4vLy1FbmQgQmxvY2stLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vL0NyZWF0ZShhZGQpIHBsYWNlIHlvdSBoYXZlIGJlZW4gdmlzaXRlZCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gaGFuZGxlQWRkUGxhY2UoKSB7XHJcbiAgJCgnbWFpbicpLm9uKCdjbGljaycsICcuanMtdHJpcC1pdGVtLWFkZFBsYWNlLCAudHJpcC1pdGVtLWFkZCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKCcucG9wdXAtb3ZlcmxheS12aWV3LWFkZFBsYWNlRm9ybSwgLnBvcHVwLWNvbnRlbnQtdmlldy1hZGRQbGFjZUZvcm0nKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoJy5wb3B1cC1vdmVybGF5LWFkZC1wbGFjZSwgLnBvcHVwLWNvbnRlbnQtYWRkLXBsYWNlJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLmJveC1wYXJlbnRcIikuYWRkQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuICAgIGFkZFBsYWNlRm9ybSgpO1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkUGxhY2VGb3JtKCl7XHJcbiAgJCgnLnBvcHVwLWNvbnRlbnQtYWRkLXBsYWNlJykuaHRtbChgICAgICAgICBcclxuICA8Zm9ybSBpZD1cImpzLWFkZC1wbGFjZS1mb3JtXCI+XHJcbiAgPGxhYmVsIGZvcj1cImpzLWFkZC1wbGFjZS1mb3JtXCI+PHNwYW4+IDxoND5QbGVhc2UgYWRkIHBsYWNlIHlvdSBoYXZlIHZpc2l0ZWQgaW4gJHtsb2NhdGlvbn0gPC9oND4gPC9zcGFuPjwvbGFiZWw+XHJcbiAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImpzLXRyaXAtcGxhY2UtbmFtZVwiIGlkPVwianMtcGxhY2UtbmFtZVwiIHBsYWNlaG9sZGVyPVwiR29sZGVuIEdhdGUgQnJpZGdlIC4uLi5cIiByZXF1aXJlZD48YnI+XHJcbiAgXHJcbiAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidXR0b25cIiBpZD1cImFkZFBsYWNlXCI+XHJcbiAgICBBZGRcclxuICA8L2J1dHRvbj5cclxuICBcclxuICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLXRyaXAtYWRkUGxhY2UtY2xvc2VcIj5cclxuICAgIENhbmNlbFxyXG4gIDwvYnV0dG9uPlxyXG5cclxuICA8L2Zvcm0+XHJcbmApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDbG9zZUFkZFBsYWNlVmlldygpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5qcy10cmlwLWFkZFBsYWNlLWNsb3NlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICQoJy5wb3B1cC1vdmVybGF5LWFkZC1wbGFjZSwgLnBvcHVwLWNvbnRlbnQtYWRkLXBsYWNlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLmJveC1wYXJlbnRcIikucmVtb3ZlQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuXHJcbiAgfSk7XHJcbn1cclxuY29uc3Qgc2F2ZUFuZFJlbmRlck1hcmtlciA9IGZ1bmN0aW9uIChwbGFjZSkge1xyXG4gIHJldHVybiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgIGNvbnN0IGxhdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQ7XHJcbiAgICBjb25zdCBsbmcgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nO1xyXG5cclxuICAgIGNvbnN0IGl0ZW1QbGFjZSA9IHtcclxuICAgICAgbmFtZTogcGxhY2UsXHJcbiAgICAgIGxhdDogbGF0LFxyXG4gICAgICBsbmc6IGxuZ1xyXG4gICAgfVxyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIHVybDogVFJJUF9MSVNUX1VSTCtgLyR7c2VsZWN0ZWRJZH0vcGxhY2VzYCxcclxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoaXRlbVBsYWNlKSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGdldEFuZERpc3BsYXlUcmlwTGlzdCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgfSlcclxuXHJcbiAgICBkaXNwbGF5UGxhY2VPbk1hcChpdGVtUGxhY2UpO1xyXG4gICAgJCgnLnBvcHVwLW92ZXJsYXktYWRkLXBsYWNlLCAucG9wdXAtY29udGVudC1hZGQtcGxhY2UnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoJy5wb3B1cC1vdmVybGF5LXZpZXctb25lTW9yZVBsYWNlLCAucG9wdXAtY29udGVudC12aWV3LW9uZU1vcmVQbGFjZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJCgnLnBvcHVwLWNvbnRlbnQtdmlldy1vbmVNb3JlUGxhY2UnKS5odG1sKGAgICAgICAgIFxyXG4gICAgPGRpdiBpZD1cImpzLWFkZC1vbmVNb3JlUGxhY2VcIj5cclxuXHJcbiAgICA8aDI+QWRkIG9uZSBtb3JlIHBsYWNlPzwvaDI+XHJcbiAgICBcclxuICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPSBcImJ1dHRvblwiIGlkPVwiYWRkT25lTW9yZVBsYWNlXCI+XHJcbiAgICAgIFllc1xyXG4gICAgPC9idXR0b24+XHJcbiAgICBcclxuICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24ganMtdHJpcC1hZGRPbmVNb3JlUGxhY2UtY2FuY2VsXCI+XHJcbiAgICAgIE5vXHJcbiAgICA8L2J1dHRvbj5cclxuXHJcbiAgICA8L2Rpdj5cclxuICAgIGApO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZE9uZU1vcmVQbGFjZSgpe1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnI2FkZE9uZU1vcmVQbGFjZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwiLnBvcHVwLW92ZXJsYXktdmlldy1vbmVNb3JlUGxhY2UsIC5wb3B1cC1jb250ZW50LXZpZXctb25lTW9yZVBsYWNlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJCgnLnBvcHVwLW92ZXJsYXktYWRkLXBsYWNlLCAucG9wdXAtY29udGVudC1hZGQtcGxhY2UnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoJyNqcy1wbGFjZS1uYW1lJykudmFsKCcnKTtcclxuICAgIC8vJChcIi5ib3gtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcbiAgfSk7XHJcbiAgYWRkUGxhY2VGb3JtKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhbmNlbEFkZE9uZU1vcmVQbGFjZSgpe1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnLmpzLXRyaXAtYWRkT25lTW9yZVBsYWNlLWNhbmNlbCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwiLnBvcHVwLW92ZXJsYXktdmlldy1vbmVNb3JlUGxhY2UsIC5wb3B1cC1jb250ZW50LXZpZXctb25lTW9yZVBsYWNlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5ib3gtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcbiAgfSk7XHJcblxyXG59XHJcbndpbmRvdy5zYXZlQW5kUmVuZGVyTWFya2VyID0gc2F2ZUFuZFJlbmRlck1hcmtlcjtcclxuZnVuY3Rpb24gaGFuZGxlU2F2ZU5ld1BsYWNlKCkge1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnI2FkZFBsYWNlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBwbGFjZSA9ICQoJyNqcy1hZGQtcGxhY2UtZm9ybScpLmZpbmQoJ2lucHV0W25hbWU9XCJqcy10cmlwLXBsYWNlLW5hbWVcIl0nKS52YWwoKTtcclxuIFxyXG4gICAgZ2V0Q29vcmRzT2ZQbGFjZShwbGFjZSlcclxuICAgICAgLnRoZW4oc2F2ZUFuZFJlbmRlck1hcmtlcihwbGFjZSkpXHJcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxufVxyXG4vLy1FbmQgQmxvY2stLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLyBWaWV3KGVkaXQpIHRyaXAgY29tbWVudHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gaGFkbGVWaWV3VHJpcCgpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5qcy10cmlwLWl0ZW0tdmlldycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKCcucG9wdXAtb3ZlcmxheS12aWV3LWZ1bGxUcmlwLCAucG9wdXAtY29udGVudC12aWV3LWZ1bGxUcmlwJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLmJveC1wYXJlbnRcIikuYWRkQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuXHJcbiAgICB2YXIgZWxlbWVudCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzLXRyaXAtaXRlbVwiKTtcclxuICAgIHZhciBpdGVtO1xyXG4gICAgJC5nZXRKU09OKFRSSVBfTElTVF9VUkwsIGZ1bmN0aW9uIChpdGVtcykge1xyXG4gICAgICBpdGVtID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGVsZW1lbnQuYXR0cihcImlkXCIpKTtcclxuICAgICAgdXBkYXRlVmlld0Z1bGxUcmlwKGl0ZW0pO1xyXG4gICAgfSk7XHJcblxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVWaWV3RnVsbFRyaXAoaXRlbSkge1xyXG4gICQoJy5wb3B1cC1jb250ZW50LXZpZXctZnVsbFRyaXAnKS5odG1sKGAgICAgICAgIFxyXG4gIDxkaXYgaWQ9XCJmdWxsLXRyaXAtdmlld1wiPlxyXG4gICAgPHA+PHNwYW4gY2xhc3M9XCJ0cmlwLWl0ZW0ganMtZnVsbC10cmlwLWNvbnRlbnRcIj48L3NwYW4+JHtpdGVtLmNvbnRlbnR9PC9wPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJmdWxsLXRyaXAtY29udHJvbHNcIj5cclxuICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLXRyaXAtaXRlbS1lZGl0Y29udGVudFwiPlxyXG4gICAgRWRpdFxyXG4gIDwvYnV0dG9uPlxyXG4gIDxidXR0b24gY2xhc3M9XCJidXR0b24ganMtdHJpcC1pdGVtLWNsb3NlXCI+XHJcbiAgICBDYW5jZWxcclxuICA8L2J1dHRvbj5cclxuPGRpdj5cclxuYCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNvbnRlbnRFZGl0KCkge1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnLmpzLXRyaXAtaXRlbS1lZGl0Y29udGVudCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgICQuZ2V0SlNPTihUUklQX0xJU1RfVVJMLCBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgICAgdmFyIGl0ZW0gPSBpdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gc2VsZWN0ZWRJZCk7XHJcbiAgICAgIGdldENvbnRlbnRGb3JtV2l0aERldGFpbHMoaXRlbSk7XHJcbiAgICAgIHNhdmVVcGRhdGVkQ29udGVudChpdGVtKTtcclxuICAgIH0pO1xyXG4gIH0pOyAgICBcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVDbG9zZUZ1bGxWaWV3KCkge1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnLmpzLXRyaXAtaXRlbS1jbG9zZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwiLnBvcHVwLW92ZXJsYXktdmlldy1mdWxsVHJpcCwgLnBvcHVwLWNvbnRlbnQtdmlldy1mdWxsVHJpcFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoXCIuYm94LXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59XHJcbi8vLUVuZCBCbG9jay0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vIEVkaXQgdHJpcCBpdGVtIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gaGFuZGxlVHJpcEVkaXQoKSB7XHJcbiAgJCgnbWFpbicpLm9uKCdjbGljaycsICcuanMtdHJpcC1pdGVtLWVkaXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJC5nZXRKU09OKFRSSVBfTElTVF9VUkwsIGZ1bmN0aW9uIChpdGVtcykge1xyXG4gICAgICB2YXIgaXRlbSA9IGl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZWxlY3RlZElkKTtcclxuICAgICAgZ2V0VHJpcEZvcm1XaXRoRGV0YWlscyhpdGVtKTtcclxuICAgIH0pO1xyXG4gICAgc2F2ZVVwZGF0ZWRUcmlwKHNlbGVjdGVkSWQpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUcmlwRm9ybVdpdGhEZXRhaWxzKGl0ZW0pIHtcclxuICAkKCcjanMtdXBkLXRyaXAtZm9ybScpLmZpbmQoJyNqcy11cGQtbmFtZScpLnZhbChpdGVtLm5hbWUpO1xyXG4gICQoJyNqcy11cGQtdHJpcC1mb3JtJykuZmluZCgnI2pzLXVwZC1sb2NhdGlvbicpLnZhbChpdGVtLmxvY2F0aW9uKTtcclxuICAkKCcjanMtdXBkLXRyaXAtZm9ybScpLmZpbmQoJyNqcy11cGQtdGV4dEFyZWEnKS52YWwoaXRlbS5jb250ZW50KTtcclxuICB2YXIgY29udmVydGVkVHJpcERhdGVzID0gY29udmVydERhdGVGcm9tTW9uZ29EQihpdGVtLnRyaXBEYXRlcyk7XHJcbiAgJCgnI2pzLXVwZC10cmlwLWZvcm0nKS5maW5kKCcjanMtdXBkLWRhdGVzJykudmFsKGNvbnZlcnRlZFRyaXBEYXRlcyk7XHJcblxyXG4gICQoJy5wb3B1cC1vdmVybGF5LXVwZC10cmlwLCAucG9wdXAtY29udGVudC11cGQtdHJpcCcpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICQoXCIuYm94LXBhcmVudFwiKS5hZGRDbGFzcyhcImluYWN0aXZlXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb250ZW50Rm9ybVdpdGhEZXRhaWxzKGl0ZW0pIHtcclxuICAkKCcjanMtdXBkLWNvbnRlbnQtZm9ybScpLmZpbmQoJyNqcy11cGQtdGV4dEFyZWEnKS52YWwoaXRlbS5jb250ZW50KTtcclxuICAkKCcucG9wdXAtb3ZlcmxheS12aWV3LWZ1bGxUcmlwLCAucG9wdXAtY29udGVudC12aWV3LWZ1bGxUcmlwJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICQoJy5wb3B1cC1vdmVybGF5LXZpZXctY29udGVudCwgLnBvcHVwLWNvbnRlbnQtdmlldy1jb250ZW50JykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgJChcIi5ib3gtcGFyZW50XCIpLmFkZENsYXNzKFwiaW5hY3RpdmVcIik7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzYXZlVXBkYXRlZENvbnRlbnQoaXRlbSl7XHJcblxyXG4gICQoXCIjanMtdXBkLWNvbnRlbnQtZm9ybVwiKS5vbihcImNsaWNrXCIsIFwiI3VwZGF0ZWNvbnRlbnRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgXHJcbiAgICB2YXIgbmV3SXRlbSA9IHtcclxuICAgICAgaWQ6IGl0ZW0uaWQsXHJcbiAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcclxuICAgICAgbG9jYXRpb246IGl0ZW0ubG9jYXRpb24sXHJcbiAgICAgIGNvbnRlbnQ6ICQoJyNqcy11cGQtY29udGVudC1mb3JtJykuZmluZCgndGV4dGFyZWEnKS52YWwoKSxcclxuICAgICAgdHJpcERhdGVzOiBpdGVtLnRyaXBkYXRlc1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coVFJJUF9MSVNUX1VSTCArIFwiL1wiICsgbmV3SXRlbS5pZCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJVcGRhdGluZyB0cmlwIGl0ZW0gYFwiICsgbmV3SXRlbS5pZCArIFwiYFwiKTtcclxuICAgIGNvbnNvbGUubG9nKG5ld0l0ZW0pO1xyXG5cclxuICAgIGlmIChzZWxlY3RlZElkID09PSBuZXdJdGVtLmlkKSB7XHJcbiAgICAgIHJ1bkFqYXgobmV3SXRlbSk7XHJcbiAgICAgICQoXCIucG9wdXAtb3ZlcmxheS12aWV3LWNvbnRlbnQsIC5wb3B1cC1jb250ZW50LXZpZXctY29udGVudFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgJChcIi5ib3gtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlVXBkYXRlZFRyaXAodHJpcElkKSB7XHJcbiAgJChcIiNqcy11cGQtdHJpcC1mb3JtXCIpLm9uKFwiY2xpY2tcIiwgXCIjdXBkYXRldHJpcFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGl0ZW0gPSB7XHJcbiAgICAgIGlkOiB0cmlwSWQsXHJcbiAgICAgIG5hbWU6ICQoJyNqcy11cGQtdHJpcC1mb3JtJykuZmluZCgnaW5wdXRbbmFtZT1cImpzLXVwZC10cmlwLWZvcm0tbmFtZVwiXScpLnZhbCgpLFxyXG4gICAgICBsb2NhdGlvbjogJCgnI2pzLXVwZC10cmlwLWZvcm0nKS5maW5kKCdpbnB1dFtuYW1lPVwianMtdXBkLXRyaXAtZm9ybS1sb2NhdGlvblwiXScpLnZhbCgpLFxyXG4gICAgICB0cmlwRGF0ZXM6ICQoJyNqcy11cGQtdHJpcC1mb3JtJykuZmluZCgnaW5wdXRbbmFtZT1cImpzLXVwZC10cmlwLWZvcm0tZGF0ZXNcIl0nKS52YWwoKSxcclxuICAgIH07XHJcbiAgICBjb25zb2xlLmxvZyhpdGVtLmNvbnRlbnQpO1xyXG4gICAgdmFyIG1vbmdvRm9ybWF0RGF0ZSA9IGl0ZW0udHJpcERhdGVzO1xyXG4gICAgaXRlbS50cmlwRGF0ZXMgPSBjb252ZXJ0RGF0ZUludG9Nb25nb0RCKG1vbmdvRm9ybWF0RGF0ZSk7XHJcbiAgICBjb25zb2xlLmxvZyhUUklQX0xJU1RfVVJMICsgXCIvXCIgKyBpdGVtLmlkKTtcclxuICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgdHJpcCBpdGVtIGBcIiArIGl0ZW0uaWQgKyBcImBcIik7XHJcbiAgICBpZiAoc2VsZWN0ZWRJZCA9PT0gaXRlbS5pZCkge1xyXG4gICAgICBydW5BamF4KGl0ZW0pOyAgXHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJ1bkFqYXgoaXRlbSkge1xyXG4gICQuYWpheCh7XHJcbiAgICAgIHVybDogVFJJUF9MSVNUX1VSTCArIFwiL1wiICsgaXRlbS5pZCxcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShpdGVtKSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBnZXRBbmREaXNwbGF5VHJpcExpc3QoKTtcclxuICAgICAgfSxcclxuICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgIH0pXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICQoXCIucG9wdXAtb3ZlcmxheS11cGQtdHJpcCwgLnBvcHVwLWNvbnRlbnQtdXBkLXRyaXBcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICQoXCIuYm94LXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gICAgICAkKCcjanMtdXBkLW5hbWUnKS52YWwoJycpO1xyXG4gICAgICAkKCcjanMtdXBkLWxvY2F0aW9uJykudmFsKCcnKTtcclxuICAgICAgJCgnI2pzLXVwZC10ZXh0QXJlYScpLnZhbCgnJyk7XHJcbiAgICAgICQoJyNqcy11cGQtZGF0ZXMnKS52YWwoJycpO1xyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJVcGRhdGluZyB0cmlwIGxpc3Q6IFwiICsgaXRlbSk7XHJcbiAgICAgIGdldEFuZERpc3BsYXlUcmlwTGlzdCgpO1xyXG4gICAgICB2YXIgbW9uZ29Gb3JtYXREYXRlID0gYCR7aXRlbS50cmlwRGF0ZXMuc3RhcnREYXRlfS8ke2l0ZW0udHJpcERhdGVzLmVuZERhdGV9YDtcclxuICAgICAgaXRlbS50cmlwRGF0ZXMgPSBjb252ZXJ0RGF0ZUZyb21Nb25nb0RCKG1vbmdvRm9ybWF0RGF0ZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2xvc2VFZGl0VmlldygpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5qcy10cmlwLXVwZC1jbG9zZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwiLnBvcHVwLW92ZXJsYXktdmlldy1jb250ZW50LCAucG9wdXAtY29udGVudC12aWV3LWNvbnRlbnRcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLnBvcHVwLW92ZXJsYXktdXBkLXRyaXAsIC5wb3B1cC1jb250ZW50LXVwZC10cmlwXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5ib3gtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcbiAgfSk7XHJcbn1cclxuLy8tRW5kIEJsb2NrLS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy9IYW5kbGUgb24gc2VsZWN0ZWQgdHJpcCBldmVudCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5mdW5jdGlvbiBoYW5kbGVTZWxlY3RUcmlwKCkge1xyXG4gIHZhciBwcmV2RWxlbWVudDtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy50cmlwLXRpdGxlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBlbGVtZW50ID0gJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoXCIuanMtdHJpcC1pdGVtXCIpO1xyXG4gICAgc2VsZWN0ZWRJZCA9IGVsZW1lbnQuYXR0cihcImlkXCIpO1xyXG4gICAgc2hvd1BsYWNlcyhzZWxlY3RlZElkKTtcclxuICAgIGlmICghcHJldkVsZW1lbnQpIHtcclxuICAgICAgdmFyIGN1cnJlbnRFbGVtZW50ID0gJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoXCIuanMtdHJpcC1pdGVtXCIpO1xyXG4gICAgICBsb2NhdGlvbiA9IGN1cnJlbnRFbGVtZW50LmZpbmQoXCIuanMtdHJpcC1pdGVtLWxvY2F0aW9uXCIpLnRleHQoKTtcclxuICAgICAgY3VycmVudEVsZW1lbnQuZmluZChcIi50cmlwLWNvbnRyb2xzXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICByZW5kZXJTZWxlY3RlZE1hcChsb2NhdGlvbik7XHJcbiAgICAgIHByZXZFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XHJcbiAgICB9IGVsc2UgaWYgKHByZXZFbGVtZW50ICE9PSBjdXJyZW50RWxlbWVudCkge1xyXG4gICAgICBwcmV2RWxlbWVudC5maW5kKFwiLnRyaXAtY29udHJvbHNcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgIHZhciBjdXJyZW50RWxlbWVudCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzLXRyaXAtaXRlbVwiKTtcclxuICAgICAgbG9jYXRpb24gPSBjdXJyZW50RWxlbWVudC5maW5kKFwiLmpzLXRyaXAtaXRlbS1sb2NhdGlvblwiKS50ZXh0KCk7XHJcbiAgICAgIGN1cnJlbnRFbGVtZW50LmZpbmQoXCIudHJpcC1jb250cm9sc1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgIHJlbmRlclNlbGVjdGVkTWFwKGxvY2F0aW9uKTtcclxuICAgICAgcHJldkVsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyU2VsZWN0ZWRNYXAobG9jYXRpb24pe1xyXG4gIGF4aW9zLmdldCgnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbicsIHtcclxuICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICBhZGRyZXNzOiBsb2NhdGlvbixcclxuICAgICAgICAgICAga2V5OiAnQUl6YVN5RHFLWUNJMVhoWExlejY4blpraTc1VTROaXp4MEF1NnY4J1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgZ2VvY29kZUFkZHJlc3MocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG4vLy1FbmQgQmxvY2stLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5cclxuLy9GdW5jdGlvbnMgY29udmVydGluZyBhbmQgc2F2aW5nIHRyaXAgZGF0ZXMgd2l0aCBNb25nb0RCLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydERhdGVJbnRvTW9uZ29EQihtb25nb0Zvcm1hdERhdGUpIHtcclxuICB2YXIgYXJyYXkgPSBtb25nb0Zvcm1hdERhdGUuc3BsaXQoJy0nKTtcclxuICB2YXIgc3RhcnREYXRlID0gbmV3IERhdGUoYXJyYXlbMF0pO1xyXG4gIHZhciBlbmREYXRlID0gbmV3IERhdGUoYXJyYXlbMV0pO1xyXG4gIHZhciB0cmlwRGF0ZXMgPSB7XHJcbiAgICBzdGFydERhdGU6IHtcclxuICAgICAgdHlwZTogRGF0ZSxcclxuICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBlbmREYXRlOiB7XHJcbiAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9XHJcbiAgfVxyXG4gIHRyaXBEYXRlcy5zdGFydERhdGUgPSBzdGFydERhdGU7XHJcbiAgdHJpcERhdGVzLmVuZERhdGUgPSBlbmREYXRlO1xyXG4gIHJldHVybiB0cmlwRGF0ZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0RGF0ZUZyb21Nb25nb0RCKG1vbmdvRm9ybWF0RGF0ZSkge1xyXG4gIHZhciBhcnJheSA9IG1vbmdvRm9ybWF0RGF0ZS5zcGxpdCgnLycpO1xyXG4gIHZhciBzdGFydERhdGUgPSBuZXcgRGF0ZShhcnJheVswXSk7XHJcbiAgdmFyIGVuZERhdGUgPSBuZXcgRGF0ZShhcnJheVsxXSk7XHJcbiAgdmFyIGNvbnZlcnRlZFN0YXJ0RGF0ZSA9IGAke3N0YXJ0RGF0ZS5nZXRNb250aCgpKzF9LyR7c3RhcnREYXRlLmdldERhdGUoKX0vJHtzdGFydERhdGUuZ2V0RnVsbFllYXIoKX1gXHJcbiAgdmFyIGNvbnZlcnRlZEVuZERhdGUgPSBgJHtlbmREYXRlLmdldE1vbnRoKCkrMX0vJHtlbmREYXRlLmdldERhdGUoKX0vJHtlbmREYXRlLmdldEZ1bGxZZWFyKCl9YFxyXG4gIHZhciBjb252ZXJ0ZWRGdWxsRGF0ZSA9IGAke2NvbnZlcnRlZFN0YXJ0RGF0ZX0gLSAke2NvbnZlcnRlZEVuZERhdGV9YDtcclxuICByZXR1cm4gY29udmVydGVkRnVsbERhdGU7XHJcbn1cclxuLy8tRW5kIEJsb2NrLS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy9GdW5jdGlvbiBmb3Igc2hvdyB1cCBtYXJrZXJzKHBsYWNlcyBvbiBHb29nbGUgTWFwcykvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5leHBvcnQgZnVuY3Rpb24gc2hvd1BsYWNlcyhzZWxlY3RlZElkKXtcclxuICAkLmdldEpTT04oVFJJUF9MSVNUX1VSTCwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICB2YXIgaXRlbSA9IGl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzZWxlY3RlZElkKTtcclxuICAgICAgZm9yKGxldCBpPTA7IGk8aXRlbS5wbGFjZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGRpc3BsYXlQbGFjZU9uTWFwKGl0ZW0ucGxhY2VzW2ldKTtcclxuICAgICAgfVxyXG4gIH0pO1xyXG59XHJcbi8vLUVuZCBCbG9jay0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbndpbmRvdy5pbml0TWFwID0gaW5pdE1hcDtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gIGdldEFuZERpc3BsYXlUcmlwTGlzdCgpO1xyXG4gIGhhbmRsZVRyaXBEZWxldGUoKTtcclxuICBoYW5kbGVTZWxlY3RUcmlwKCk7XHJcbiAgaGFuZGxlVHJpcExpc3RBZGQoKTtcclxuICBoYW5kbGVUcmlwRWRpdCgpO1xyXG4gIGhhbmRsZUFkZFBsYWNlKCk7XHJcbiAgaGFkbGVWaWV3VHJpcCgpO1xyXG4gIGhhbmRsZUNsb3NlRnVsbFZpZXcoKTtcclxuICBoYW5kbGVDbG9zZUVkaXRWaWV3KCk7XHJcbiAgaGFuZGxlQ2xvc2VBZGRQbGFjZVZpZXcoKTtcclxuICBoYW5kbGVTYXZlTmV3UGxhY2UoKTtcclxuICBoYW5kbGVTa2lwQWRkUGxhY2VGb3JtKCk7XHJcbiAgaGFuZGxlQWRkT25lTW9yZVBsYWNlKCk7XHJcbiAgaGFuZGxlQ2FuY2VsQWRkT25lTW9yZVBsYWNlKCk7XHJcbiAgaGFuZGxlQ29udGVudEVkaXQoKTtcclxuICBoYW5kbGVDbG9zZU5ld1RyaXBGb3JtKCk7XHJcbn0pIiwiXHJcbnZhciBzZXJ2ZXJCYXNlID0gXCIvL2xvY2FsaG9zdDo4MDgwL1wiO1xyXG52YXIgVFJJUF9MSVNUX1VSTCA9IHNlcnZlckJhc2UgKyAndHJpcC1saXN0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TWFwKCkge1xyXG4gIHZhciBsYXN0SXRlbTtcclxuICAkLmdldEpTT04oVFJJUF9MSVNUX1VSTCwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcblxyXG4gICAgbGFzdEl0ZW0gPSBpdGVtc1swXTtcclxuICAgIGNvbnNvbGUubG9nKGxhc3RJdGVtLmxvY2F0aW9uKTtcclxuICB9KS50aGVuKChsYXN0SXRlbSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2cobGFzdEl0ZW1bMF0ubG9jYXRpb24pO1xyXG4gICAgYXhpb3MuZ2V0KCdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uJywge1xyXG4gICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgYWRkcmVzczogbGFzdEl0ZW1bMF0ubG9jYXRpb24sXHJcbiAgICAgICAgICBrZXk6ICdBSXphU3lEcUtZQ0kxWGhYTGV6NjhuWmtpNzVVNE5pengwQXU2djgnXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihcclxuICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgIGdlb2NvZGVBZGRyZXNzKHJlc3BvbnNlKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICB9KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgbWFwO1xyXG5leHBvcnQgZnVuY3Rpb24gZ2VvY29kZUFkZHJlc3MocmVzcG9uc2UpIHtcclxuXHJcbiAgLy8gTG9nIGZ1bGwgcmVzcG9uc2VcclxuICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcblxyXG4gIC8vIEZvcm1hdHRlZCBBZGRyZXNzXHJcbiAgdmFyIGZvcm1hdHRlZEFkZHJlc3MgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3M7XHJcblxyXG4gIC8vIEdlb21ldHJ5XHJcbiAgdmFyIGxhdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQ7XHJcbiAgdmFyIGxuZyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sbmc7XHJcblxyXG4gIGNvbnNvbGUubG9nKGxhdCk7XHJcbiAgY29uc29sZS5sb2cobG5nKTtcclxuICBjb25zb2xlLmxvZyhmb3JtYXR0ZWRBZGRyZXNzKTtcclxuICBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xyXG4gICAgY2VudGVyOiB7XHJcbiAgICAgIGxhdDogTnVtYmVyKGxhdCksXHJcbiAgICAgIGxuZzogTnVtYmVyKGxuZylcclxuICAgIH0sXHJcbiAgICB6b29tOiAxMlxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmRzT2ZQbGFjZShwbGFjZSkge1xyXG4gIHJldHVybiBheGlvcy5nZXQoJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24nLCB7XHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgYWRkcmVzczogcGxhY2UsXHJcbiAgICAgIGtleTogJ0FJemFTeURxS1lDSTFYaFhMZXo2OG5aa2k3NVU0Tml6eDBBdTZ2OCdcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVBsYWNlT25NYXAoaXRlbVBsYWNlKSB7XHJcblxyXG4gIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgIGxhdDogTnVtYmVyKGl0ZW1QbGFjZS5sYXQpLFxyXG4gICAgICBsbmc6IE51bWJlcihpdGVtUGxhY2UubG5nKVxyXG4gICAgfSxcclxuICAgIG1hcDogbWFwLFxyXG4gICAgaWNvbjogJ2h0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL21hcHMvZG9jdW1lbnRhdGlvbi9qYXZhc2NyaXB0L2V4YW1wbGVzL2Z1bGwvaW1hZ2VzL2JlYWNoZmxhZy5wbmcnXHJcbiAgfSk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9