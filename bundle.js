!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=1)}([function(t,e,n){"use strict";(function(t){e.DATABASE_URL=t.env.DATABASE_URL||"mongodb://tripuser:Paswword1@ds251112.mlab.com:51112/trips",e.TEST_DATABASE_URL=t.env.TEST_DATABASE_URL||"mongodb://localhost/test-trip",e.PORT=t.env.PORT||8080,e.serverBase="//localhost:8080/"}).call(this,n(4))},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectedId=void 0,e.convertDateIntoMongoDB=w,e.convertDateFromMongoDB=h,e.showPlaces=D;var o,i=n(3),a=e.selectedId=void 0,r=n(0).serverBase+p()+"/trip-list",c='<li class="js-trip-item">\n      <div class="trip-title">\n        <p><span class="trip-item-name js-trip-item-name"></span></p>\n        <p><span class="trip-item-location js-trip-item-location"></span></p>\n        <p><span class="trip-item-dates js-trip-item-dates"></span></p>\n      </div>\n\n      <div class="trip-controls">\n\n\n        <button title="View comments" class="trip-item-view js-trip-item-view">\n          <img src="img/view.png" />\n        </button>\n\n        <button  title="Add place" class="trip-item-add">\n          <img src="img/add.png" />\n        </button>\n\n        <button  title="Edit" class="trip-item-edit js-trip-item-edit">\n          <img src="img/edit.png" />\n        </button>\n\n        <button  title="Delete" class="trip-item-delete js-trip-item-delete">\n          <img src="img/delete.png" />\n        </button>\n\n      <div>\n     \n    </li>';function p(){var t=window.location.search.split("=");return $.getJSON(r,function(t){0!==t.length?y(t[0].location):($(".popup-overlay-new-trip, .popup-content-new-trip").addClass("active"),$(".box-parent").addClass("inactive"))}),t[1],t[1]}function l(){console.log("Retrieving trip list"),$.getJSON(r,function(t){console.log("Rendering trip list"),console.log(t);var e=t.map(function(t){console.log(t);var e=$(c);e.attr("id",t.id),e.find(".js-trip-item-name").text(t.name),e.find(".js-trip-item-location").text(t.location);var n=e.find(".js-trip-item-dates"),o=h(t.tripDates);return n.text(o),e});$(".js-trip-list").html(e)})}function s(t){$.ajax({method:"POST",url:r,data:JSON.stringify(t),success:function(){l()},dataType:"json",contentType:"application/json"}).then(function(){console.log("Adding trip: "+t),l(),y(t.location),$.getJSON(r,function(t){e.selectedId=a=t[0].id}),$(".popup-overlay-new-trip, .popup-content-new-trip").removeClass("active"),$(".box-parent").removeClass("inactive"),$("#js-new-name").val(""),$("#js-new-location").val(""),$("#js-new-textArea").val(""),$("#js-new-dates").val("")}).then(function(){$(".popup-overlay-view-addPlaceForm, .popup-content-view-addPlaceForm").addClass("active"),$(".box-parent").addClass("inactive"),$(".popup-content-view-addPlaceForm").html('        \n    <h3>Please, add place you have visited </h3>\n    <div class="addPlaceForm-controls">\n  \n    <button class="button js-trip-item-addPlace">\n      Add\n    </button>\n  \n    <button class="button js-trip-item-skipAddTrip">\n       Skip\n    </button>\n  \n  <div>\n')})}function u(){$("#js-trip-item-add").on("click",function(){$(".popup-overlay-new-trip, .popup-content-new-trip").addClass("active"),$(".box-parent").addClass("inactive")}),$("#js-add-trip-form").submit(function(t){t.preventDefault();var e=function(t){return{name:$(t.currentTarget).find("#js-new-name").val(),location:$(t.currentTarget).find("#js-new-location").val(),content:$(t.currentTarget).find("#js-new-textArea").val(),tripDates:$(t.currentTarget).find("#js-new-dates").val()}}(t);e.tripDates=w(e.tripDates),s(e)})}function d(){$("main").on("click",".js-trip-item-delete",function(t){t.preventDefault(),function(t){console.log("Deleting trip `"+t+"`"),$.ajax({url:r+"/"+t,method:"DELETE",success:l})}($(t.currentTarget).closest(".js-trip-item").attr("id"))}),$.getJSON(r,function(t){0!==t.length&&y(t[0].location)})}function v(){$(".popup-content-add-place").html('        \n  <form id="js-add-place-form">\n  <label for="js-add-place-form"><span> <h4>Please add place you have visited in '+o+' </h4> </span></label>\n  <input type="text" name="js-trip-place-name" id="js-place-name" placeholder="Golden Gate Bridge, San Francisco ...." required><br>\n  \n  <button type="submit" class="button" id="addPlace">\n    Add\n  </button>\n  \n  <button class="button js-trip-addPlace-close">\n    Cancel\n  </button>\n\n  </form>\n')}console.log("USERID: ",p());var f=function(t){return function(e){var n=e.data.results[0].geometry.location.lat,o=e.data.results[0].geometry.location.lng,c={name:t,lat:n,lng:o};$.ajax({method:"POST",url:r+"/"+a+"/places",data:JSON.stringify(c),success:function(){l()},dataType:"json",contentType:"application/json"}),(0,i.displayPlaceOnMap)(c),$(".popup-overlay-add-place, .popup-content-add-place").removeClass("active"),$(".popup-overlay-view-oneMorePlace, .popup-content-view-oneMorePlace").addClass("active"),$(".popup-content-view-oneMorePlace").html('        \n    <div id="js-add-oneMorePlace">\n\n    <h2>Add one more place?</h2>\n    \n    <button type="submit" class= "button" id="addOneMorePlace">\n      Yes\n    </button>\n    \n    <button class="button js-trip-addOneMorePlace-cancel">\n      No\n    </button>\n\n    </div>\n    ')}};function m(){$("main").on("click",".js-trip-item-view",function(t){t.preventDefault(),$(".popup-overlay-view-fullTrip, .popup-content-view-fullTrip").addClass("active"),$(".box-parent").addClass("inactive");var e=$(t.currentTarget).closest(".js-trip-item");$.getJSON(r,function(t){!function(t){$(".popup-content-view-fullTrip").html('        \n  <div id="full-trip-view">\n    <p><span class="trip-item js-full-trip-content"></span>'+t.content+'</p>\n  </div>\n  <div class="full-trip-controls">\n  <button class="button js-trip-item-editcontent">\n    Edit\n  </button>\n  <button class="button js-trip-item-close">\n    Cancel\n  </button>\n<div>\n')}(t.find(function(t){return t.id===e.attr("id")}))})})}function g(){$("main").on("click",".js-trip-item-editcontent",function(t){t.preventDefault(),$.getJSON(r,function(t){var e=t.find(function(t){return t.id===a});!function(t){$("#js-upd-content-form").find("#js-upd-textArea").val(t.content),$(".popup-overlay-view-fullTrip, .popup-content-view-fullTrip").removeClass("active"),$(".popup-overlay-view-content, .popup-content-view-content").addClass("active"),$(".box-parent").addClass("inactive")}(e),function(t){$("#js-upd-content-form").on("click","#updatecontent",function(e){e.preventDefault();var n={id:t.id,name:t.name,location:t.location,content:$("#js-upd-content-form").find("textarea").val(),tripDates:t.tripdates};console.log(r+"/"+n.id),console.log("Updating trip item `"+n.id+"`"),console.log(n),a===n.id&&(b(n),$(".popup-overlay-view-content, .popup-content-view-content").removeClass("active"),$(".box-parent").removeClass("inactive"))})}(e)})})}function j(){$("main").on("click",".js-trip-item-edit",function(t){t.preventDefault(),$.getJSON(r,function(t){!function(t){$("#js-upd-trip-form").find("#js-upd-name").val(t.name),$("#js-upd-trip-form").find("#js-upd-location").val(t.location),$("#js-upd-trip-form").find("#js-upd-textArea").val(t.content);var e=h(t.tripDates);$("#js-upd-trip-form").find("#js-upd-dates").val(e),$(".popup-overlay-upd-trip, .popup-content-upd-trip").addClass("active"),$(".box-parent").addClass("inactive")}(t.find(function(t){return t.id===a}))}),function(t){$("#js-upd-trip-form").on("click","#updatetrip",function(e){e.preventDefault();var n={id:t,name:$("#js-upd-trip-form").find('input[name="js-upd-trip-form-name"]').val(),location:$("#js-upd-trip-form").find('input[name="js-upd-trip-form-location"]').val(),tripDates:$("#js-upd-trip-form").find('input[name="js-upd-trip-form-dates"]').val()};console.log(n.content);var o=n.tripDates;n.tripDates=w(o),console.log(r+"/"+n.id),console.log("Updating trip item `"+n.id+"`"),a===n.id&&b(n)})}(a)})}function b(t){$.ajax({url:r+"/"+t.id,method:"PUT",data:JSON.stringify(t),success:function(t){l()},dataType:"json",contentType:"application/json"}).then(function(){$(".popup-overlay-upd-trip, .popup-content-upd-trip").removeClass("active"),$(".box-parent").removeClass("inactive"),$("#js-upd-name").val(""),$("#js-upd-location").val(""),$("#js-upd-textArea").val(""),$("#js-upd-dates").val("")}).then(function(){console.log("Updating trip list: "+t),l();var e=t.tripDates.startDate+"/"+t.tripDates.endDate;t.tripDates=h(e)})}function y(t){axios.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t,key:"AIzaSyBpvjt5zBq23Wu6eZHvVuAHEjxd1GgDbMg"}}).then(function(t){(0,i.geocodeAddress)(t)}).catch(function(t){console.log(t)})}function w(t){var e=t.split("-"),n=new Date(e[0]),o=new Date(e[1]),i={startDate:{type:Date,required:!0},endDate:{type:Date,required:!0}};return i.startDate=n,i.endDate=o,i}function h(t){var e=t.split("/"),n=new Date(e[0]),o=new Date(e[1]);return n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear()+" - "+(o.getMonth()+1+"/"+o.getDate()+"/"+o.getFullYear())}function D(t){$.getJSON(r,function(e){for(var n=e.find(function(e){return e.id===t}),o=0;o<n.places.length;o++)(0,i.displayPlaceOnMap)(n.places[o])})}window.saveAndRenderMarker=f,window.initMap=i.initMap,$(function(){l(),d(),function(){var t;$("main").on("click",".trip-title",function(n){n.preventDefault();var i=$(n.currentTarget).closest(".js-trip-item");if(e.selectedId=a=i.attr("id"),D(a),t)t!==r&&(t.find(".trip-controls").removeClass("active"),r=$(n.currentTarget).closest(".js-trip-item"),o=r.find(".js-trip-item-location").text(),r.find(".trip-controls").addClass("active"),y(o),t=r);else{var r=$(n.currentTarget).closest(".js-trip-item");o=r.find(".js-trip-item-location").text(),r.find(".trip-controls").addClass("active"),y(o),t=r}})}(),u(),j(),$("main").on("click",".js-trip-item-addPlace, .trip-item-add",function(t){t.preventDefault(),$(".popup-overlay-view-addPlaceForm, .popup-content-view-addPlaceForm").removeClass("active"),$(".popup-overlay-add-place, .popup-content-add-place").addClass("active"),$(".box-parent").addClass("inactive"),v()}),m(),$("main").on("click",".js-trip-item-close",function(t){t.preventDefault(),$(".popup-overlay-view-fullTrip, .popup-content-view-fullTrip").removeClass("active"),$(".box-parent").removeClass("inactive")}),$("main").on("click",".js-trip-upd-close",function(t){t.preventDefault(),$(".popup-overlay-view-content, .popup-content-view-content").removeClass("active"),$(".popup-overlay-upd-trip, .popup-content-upd-trip").removeClass("active"),$(".box-parent").removeClass("inactive")}),$("main").on("click",".js-trip-addPlace-close",function(t){t.preventDefault(),$(".popup-overlay-add-place, .popup-content-add-place").removeClass("active"),$(".box-parent").removeClass("inactive")}),$("main").on("click","#addPlace",function(t){t.preventDefault();var e=$("#js-add-place-form").find('input[name="js-trip-place-name"]').val();(0,i.getCoordsOfPlace)(e).then(f(e)).catch(function(t){console.log(t)})}),$("main").on("click",".js-trip-item-skipAddTrip",function(t){$(".popup-overlay-view-addPlaceForm, .popup-content-view-addPlaceForm").removeClass("active"),$(".box-parent").removeClass("inactive")}),$("main").on("click","#addOneMorePlace",function(t){t.preventDefault(),$(".popup-overlay-view-oneMorePlace, .popup-content-view-oneMorePlace").removeClass("active"),$(".popup-overlay-add-place, .popup-content-add-place").addClass("active"),$("#js-place-name").val("")}),v(),$("main").on("click",".js-trip-addOneMorePlace-cancel",function(t){t.preventDefault(),$(".popup-overlay-view-oneMorePlace, .popup-content-view-oneMorePlace").removeClass("active"),$(".box-parent").removeClass("inactive")}),g(),$("main").on("click",".canceltrip",function(t){t.preventDefault(),$(".popup-overlay-new-trip, .popup-content-new-trip").removeClass("active"),$(".box-parent").removeClass("inactive")})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initMap=function(){var t;$.getJSON(o,function(e){t=e[0],console.log(t.location)}).then(function(t){console.log(t[0].location),axios.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t[0].location,key:"AIzaSyBpvjt5zBq23Wu6eZHvVuAHEjxd1GgDbMg"}}).then(function(t){a(t)}).catch(function(t){console.log(t)})})},e.geocodeAddress=a,e.getCoordsOfPlace=function(t){return axios.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t,key:"AIzaSyBpvjt5zBq23Wu6eZHvVuAHEjxd1GgDbMg"}})},e.displayPlaceOnMap=function(t){new google.maps.Marker({position:{lat:Number(t.lat),lng:Number(t.lng)},map:i,icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"})};var o=n(0).serverBase+"trip-list";var i=e.map=void 0;function a(t){console.log(t);var n=t.data.results[0].formatted_address,o=t.data.results[0].geometry.location.lat,a=t.data.results[0].geometry.location.lng;console.log(o),console.log(a),console.log(n),e.map=i=new google.maps.Map(document.getElementById("map"),{center:{lat:Number(o),lng:Number(a)},zoom:12})}},function(t,e){var n,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{o="function"==typeof clearTimeout?clearTimeout:r}catch(t){o=r}}();var p,l=[],s=!1,u=-1;function d(){s&&p&&(s=!1,p.length?l=p.concat(l):u=-1,l.length&&v())}function v(){if(!s){var t=c(d);s=!0;for(var e=l.length;e;){for(p=l,l=[];++u<e;)p&&p[u].run();u=-1,e=l.length}p=null,s=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||s||c(v)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY29uZmlnLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvZ29vZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJEQVRBQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiVEVTVF9EQVRBQkFTRV9VUkwiLCJQT1JUIiwic2VydmVyQmFzZSIsImNvbnZlcnREYXRlSW50b01vbmdvREIiLCJjb252ZXJ0RGF0ZUZyb21Nb25nb0RCIiwic2hvd1BsYWNlcyIsImxvY2F0aW9uIiwiX2dvb2dsZSIsInNlbGVjdGVkSWQiLCJUUklQX0xJU1RfVVJMIiwiZ2V0VXNlcklkIiwidHJpcEl0ZW1UZW1wbGF0ZSIsImFycmF5Iiwid2luZG93Iiwic2VhcmNoIiwic3BsaXQiLCIkIiwiZ2V0SlNPTiIsIml0ZW1zIiwibGVuZ3RoIiwicmVuZGVyU2VsZWN0ZWRNYXAiLCJhZGRDbGFzcyIsImdldEFuZERpc3BsYXlUcmlwTGlzdCIsImNvbnNvbGUiLCJsb2ciLCJpdGVtRWxlbWVudHMiLCJtYXAiLCJpdGVtIiwiZWxlbWVudCIsImF0dHIiLCJpZCIsImZpbmQiLCJ0ZXh0IiwiaXRlbVRyaXBEYXRlcyIsImNvbnZlcnRlZEl0ZW1UcmlwRGF0ZXMiLCJ0cmlwRGF0ZXMiLCJodG1sIiwiYWRkVHJpcEl0ZW0iLCJhamF4IiwibWV0aG9kIiwidXJsIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdWNjZXNzIiwiZGF0YVR5cGUiLCJjb250ZW50VHlwZSIsInRoZW4iLCJyZW1vdmVDbGFzcyIsInZhbCIsImhhbmRsZVRyaXBMaXN0QWRkIiwib24iLCJzdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50VGFyZ2V0IiwiY29udGVudCIsImdldFRyaXBGb3JtRGV0YWlscyIsImhhbmRsZVRyaXBEZWxldGUiLCJ0cmlwSWQiLCJkZWxldGV0cmlwIiwiY2xvc2VzdCIsImFkZFBsYWNlRm9ybSIsInNhdmVBbmRSZW5kZXJNYXJrZXIiLCJwbGFjZSIsInJlc3BvbnNlIiwibGF0IiwicmVzdWx0cyIsImdlb21ldHJ5IiwibG5nIiwiaXRlbVBsYWNlIiwiZGlzcGxheVBsYWNlT25NYXAiLCJoYWRsZVZpZXdUcmlwIiwidXBkYXRlVmlld0Z1bGxUcmlwIiwiaGFuZGxlQ29udGVudEVkaXQiLCJnZXRDb250ZW50Rm9ybVdpdGhEZXRhaWxzIiwibmV3SXRlbSIsInRyaXBkYXRlcyIsInJ1bkFqYXgiLCJzYXZlVXBkYXRlZENvbnRlbnQiLCJoYW5kbGVUcmlwRWRpdCIsImNvbnZlcnRlZFRyaXBEYXRlcyIsImdldFRyaXBGb3JtV2l0aERldGFpbHMiLCJtb25nb0Zvcm1hdERhdGUiLCJzYXZlVXBkYXRlZFRyaXAiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiYXhpb3MiLCJwYXJhbXMiLCJhZGRyZXNzIiwiZ2VvY29kZUFkZHJlc3MiLCJjYXRjaCIsImVycm9yIiwiRGF0ZSIsInR5cGUiLCJyZXF1aXJlZCIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEZ1bGxZZWFyIiwicGxhY2VzIiwiaW5pdE1hcCIsInByZXZFbGVtZW50IiwiY3VycmVudEVsZW1lbnQiLCJoYW5kbGVTZWxlY3RUcmlwIiwiZ2V0Q29vcmRzT2ZQbGFjZSIsImxhc3RJdGVtIiwiZ29vZ2xlIiwibWFwcyIsIk1hcmtlciIsInBvc2l0aW9uIiwiTnVtYmVyIiwiaWNvbiIsImZvcm1hdHRlZEFkZHJlc3MiLCJmb3JtYXR0ZWRfYWRkcmVzcyIsIk1hcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjZW50ZXIiLCJ6b29tIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsInRoaXMiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZ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SCxHQUNBUCxFQUFBVyxJQVNBTSxFQUFBcEosVUFBQWlKLElBQUEsV0FDQVgsS0FBQUYsSUFBQXVCLE1BQUEsS0FBQXJCLEtBQUFuSCxRQUVBZCxFQUFBdUosTUFBQSxVQUNBdkosRUFBQXdKLFNBQUEsRUFDQXhKLEVBQUFDLE9BQ0FELEVBQUF5SixRQUNBekosRUFBQTBKLFFBQUEsR0FDQTFKLEVBQUEySixZQUlBM0osRUFBQXFELEdBQUEyRixFQUNBaEosRUFBQTRKLFlBQUFaLEVBQ0FoSixFQUFBNkosS0FBQWIsRUFDQWhKLEVBQUE4SixJQUFBZCxFQUNBaEosRUFBQStKLGVBQUFmLEVBQ0FoSixFQUFBZ0ssbUJBQUFoQixFQUNBaEosRUFBQWlLLEtBQUFqQixFQUNBaEosRUFBQWtLLGdCQUFBbEIsRUFDQWhKLEVBQUFtSyxvQkFBQW5CLEVBRUFoSixFQUFBb0ssVUFBQSxTQUFBOUwsR0FBcUMsVUFFckMwQixFQUFBcUssUUFBQSxTQUFBL0wsR0FDQSxVQUFBc0osTUFBQSxxQ0FHQTVILEVBQUFzSyxJQUFBLFdBQTJCLFdBQzNCdEssRUFBQXVLLE1BQUEsU0FBQUMsR0FDQSxVQUFBNUMsTUFBQSxtQ0FFQTVILEVBQUF5SyxNQUFBLFdBQTRCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuZXhwb3J0cy5EQVRBQkFTRV9VUkwgPVxyXG4gIHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCB8fCAnbW9uZ29kYjovL3RyaXB1c2VyOlBhc3d3b3JkMUBkczI1MTExMi5tbGFiLmNvbTo1MTExMi90cmlwcyc7XHJcbmV4cG9ydHMuVEVTVF9EQVRBQkFTRV9VUkwgPVxyXG4gIHByb2Nlc3MuZW52LlRFU1RfREFUQUJBU0VfVVJMIHx8IFwibW9uZ29kYjovL2xvY2FsaG9zdC90ZXN0LXRyaXBcIjtcclxuZXhwb3J0cy5QT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA4MDgwO1xyXG5cclxuZXhwb3J0cy5zZXJ2ZXJCYXNlID0gJy8vbG9jYWxob3N0OjgwODAvJzsiLCJpbXBvcnQge1xyXG4gIGluaXRNYXAsXHJcbiAgZ2VvY29kZUFkZHJlc3MsXHJcbiAgZ2V0Q29vcmRzT2ZQbGFjZSxcclxuICBkaXNwbGF5UGxhY2VPbk1hcFxyXG59IGZyb20gJy4vZ29vZ2xlJ1xyXG5cclxuXHJcblxyXG5leHBvcnQgdmFyIHNlbGVjdGVkSWQ7XHJcbnZhciBsb2NhdGlvbjtcclxudmFyIHVzZXJJZDtcclxuLy92YXIgc2VydmVyQmFzZSA9IFwiLy9sb2NhbGhvc3Q6ODA4MC9cIjtcclxuY29uc3QgeyBzZXJ2ZXJCYXNlIH0gPSByZXF1aXJlKCcuLi9jb25maWcnKTtcclxudmFyIFRSSVBfTElTVF9VUkwgPSBzZXJ2ZXJCYXNlICsgZ2V0VXNlcklkKCkgKyAnL3RyaXAtbGlzdCc7XHJcblxyXG4vL1RlbXBsYXRlIGZvciB0cmlwIGl0ZW0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbnZhciB0cmlwSXRlbVRlbXBsYXRlID0gKFxyXG4gIGA8bGkgY2xhc3M9XCJqcy10cmlwLWl0ZW1cIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInRyaXAtdGl0bGVcIj5cclxuICAgICAgICA8cD48c3BhbiBjbGFzcz1cInRyaXAtaXRlbS1uYW1lIGpzLXRyaXAtaXRlbS1uYW1lXCI+PC9zcGFuPjwvcD5cclxuICAgICAgICA8cD48c3BhbiBjbGFzcz1cInRyaXAtaXRlbS1sb2NhdGlvbiBqcy10cmlwLWl0ZW0tbG9jYXRpb25cIj48L3NwYW4+PC9wPlxyXG4gICAgICAgIDxwPjxzcGFuIGNsYXNzPVwidHJpcC1pdGVtLWRhdGVzIGpzLXRyaXAtaXRlbS1kYXRlc1wiPjwvc3Bhbj48L3A+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdiBjbGFzcz1cInRyaXAtY29udHJvbHNcIj5cclxuXHJcblxyXG4gICAgICAgIDxidXR0b24gdGl0bGU9XCJWaWV3IGNvbW1lbnRzXCIgY2xhc3M9XCJ0cmlwLWl0ZW0tdmlldyBqcy10cmlwLWl0ZW0tdmlld1wiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCJpbWcvdmlldy5wbmdcIiAvPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICA8YnV0dG9uICB0aXRsZT1cIkFkZCBwbGFjZVwiIGNsYXNzPVwidHJpcC1pdGVtLWFkZFwiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCJpbWcvYWRkLnBuZ1wiIC8+XHJcbiAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgIDxidXR0b24gIHRpdGxlPVwiRWRpdFwiIGNsYXNzPVwidHJpcC1pdGVtLWVkaXQganMtdHJpcC1pdGVtLWVkaXRcIj5cclxuICAgICAgICAgIDxpbWcgc3JjPVwiaW1nL2VkaXQucG5nXCIgLz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgPGJ1dHRvbiAgdGl0bGU9XCJEZWxldGVcIiBjbGFzcz1cInRyaXAtaXRlbS1kZWxldGUganMtdHJpcC1pdGVtLWRlbGV0ZVwiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCJpbWcvZGVsZXRlLnBuZ1wiIC8+XHJcbiAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICA8ZGl2PlxyXG4gICAgIFxyXG4gICAgPC9saT5gXHJcbik7XHJcbi8vLUVuZCBCbG9jay0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblxyXG5cclxuLy8gR2V0IHVzZXJJZCBmcm9tIFVSTC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIGdldFVzZXJJZCgpIHtcclxuICBjb25zdCBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcclxuICB2YXIgYXJyYXkgPSBsb2NhdGlvbi5zZWFyY2guc3BsaXQoJz0nKTtcclxuICAkLmdldEpTT04oVFJJUF9MSVNUX1VSTCwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICBpZihpdGVtcy5sZW5ndGghPT0wKXtcclxuICAgICAgcmVuZGVyU2VsZWN0ZWRNYXAoaXRlbXNbMF0ubG9jYXRpb24pO1xyXG4gICAgfSBlbHNle1xyXG4gICAgICAkKCcucG9wdXAtb3ZlcmxheS1uZXctdHJpcCwgLnBvcHVwLWNvbnRlbnQtbmV3LXRyaXAnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgJChcIi5ib3gtcGFyZW50XCIpLmFkZENsYXNzKFwiaW5hY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gIH0pXHJcbiAgdXNlcklkID0gYXJyYXlbMV07XHJcbiAgcmV0dXJuIGFycmF5WzFdO1xyXG59XHJcbmNvbnNvbGUubG9nKFwiVVNFUklEOiBcIiwgZ2V0VXNlcklkKCkpO1xyXG4vLy1FbmQgQmxvY2stLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLyBMb2FkaW5nIEluaXRpYWwvdXBkYXRlZCBsaXN0IG9mIHRyaXBzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIGdldEFuZERpc3BsYXlUcmlwTGlzdCgpIHtcclxuICBjb25zb2xlLmxvZygnUmV0cmlldmluZyB0cmlwIGxpc3QnKTtcclxuICAkLmdldEpTT04oVFJJUF9MSVNUX1VSTCwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICBjb25zb2xlLmxvZygnUmVuZGVyaW5nIHRyaXAgbGlzdCcpO1xyXG4gICAgY29uc29sZS5sb2coaXRlbXMpO1xyXG4gICAgdmFyIGl0ZW1FbGVtZW50cyA9IGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xyXG5cclxuICAgICAgY29uc29sZS5sb2coaXRlbSk7XHJcblxyXG4gICAgICB2YXIgZWxlbWVudCA9ICQodHJpcEl0ZW1UZW1wbGF0ZSk7XHJcbiAgICAgIGVsZW1lbnQuYXR0cignaWQnLCBpdGVtLmlkKTtcclxuXHJcbiAgICAgIHZhciBpdGVtTmFtZSA9IGVsZW1lbnQuZmluZCgnLmpzLXRyaXAtaXRlbS1uYW1lJyk7XHJcbiAgICAgIGl0ZW1OYW1lLnRleHQoaXRlbS5uYW1lKTtcclxuXHJcbiAgICAgIHZhciBpdGVtTG9jYXRpb24gPSBlbGVtZW50LmZpbmQoJy5qcy10cmlwLWl0ZW0tbG9jYXRpb24nKTtcclxuICAgICAgaXRlbUxvY2F0aW9uLnRleHQoaXRlbS5sb2NhdGlvbik7XHJcblxyXG4gICAgICB2YXIgaXRlbVRyaXBEYXRlcyA9IGVsZW1lbnQuZmluZCgnLmpzLXRyaXAtaXRlbS1kYXRlcycpO1xyXG4gICAgICB2YXIgY29udmVydGVkSXRlbVRyaXBEYXRlcyA9IGNvbnZlcnREYXRlRnJvbU1vbmdvREIoaXRlbS50cmlwRGF0ZXMpO1xyXG4gICAgICBpdGVtVHJpcERhdGVzLnRleHQoY29udmVydGVkSXRlbVRyaXBEYXRlcyk7XHJcbiAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpzLXRyaXAtbGlzdCcpLmh0bWwoaXRlbUVsZW1lbnRzKTtcclxuICAgIFxyXG4gIH0pO1xyXG59XHJcbi8vLUVuZCBCbG9jay0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vQWRkaW5nIG5ldyB0cmlwIGl0ZW0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNsb3NlTmV3VHJpcEZvcm0oKSB7XHJcbiAgJCgnbWFpbicpLm9uKCdjbGljaycsICcuY2FuY2VsdHJpcCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKFwiLnBvcHVwLW92ZXJsYXktbmV3LXRyaXAsIC5wb3B1cC1jb250ZW50LW5ldy10cmlwXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5ib3gtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclRyaXBGb3JtKCkge1xyXG4gICQoJyNqcy10cmlwLWl0ZW0tYWRkJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnBvcHVwLW92ZXJsYXktbmV3LXRyaXAsIC5wb3B1cC1jb250ZW50LW5ldy10cmlwJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLmJveC1wYXJlbnRcIikuYWRkQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVHJpcEl0ZW0oaXRlbSkge1xyXG4gICQuYWpheCh7XHJcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgdXJsOiBUUklQX0xJU1RfVVJMLFxyXG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoaXRlbSksXHJcbiAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGdldEFuZERpc3BsYXlUcmlwTGlzdCgpO1xyXG4gICAgfSxcclxuICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJBZGRpbmcgdHJpcDogXCIgKyBpdGVtKTtcclxuICAgIGdldEFuZERpc3BsYXlUcmlwTGlzdCgpO1xyXG4gICAgcmVuZGVyU2VsZWN0ZWRNYXAoaXRlbS5sb2NhdGlvbik7XHJcblxyXG4gICAgJC5nZXRKU09OKFRSSVBfTElTVF9VUkwsIGZ1bmN0aW9uIChpdGVtcykge1xyXG4gICAgICBzZWxlY3RlZElkID0gaXRlbXNbMF0uaWQ7XHJcbiAgICB9KVxyXG4gICAgJChcIi5wb3B1cC1vdmVybGF5LW5ldy10cmlwLCAucG9wdXAtY29udGVudC1uZXctdHJpcFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoXCIuYm94LXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImluYWN0aXZlXCIpO1xyXG5cclxuICAgICQoJyNqcy1uZXctbmFtZScpLnZhbCgnJyk7XHJcbiAgICAkKCcjanMtbmV3LWxvY2F0aW9uJykudmFsKCcnKTtcclxuICAgICQoJyNqcy1uZXctdGV4dEFyZWEnKS52YWwoJycpO1xyXG4gICAgJCgnI2pzLW5ldy1kYXRlcycpLnZhbCgnJyk7XHJcbiAgfSkudGhlbigoKT0+eyAgIFxyXG4gICAgJCgnLnBvcHVwLW92ZXJsYXktdmlldy1hZGRQbGFjZUZvcm0sIC5wb3B1cC1jb250ZW50LXZpZXctYWRkUGxhY2VGb3JtJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLmJveC1wYXJlbnRcIikuYWRkQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuICAgIHJlbmRlckFkZFBsYWNlRm9ybSgpO1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlVHJpcExpc3RBZGQoKSB7XHJcbiAgcmVuZGVyVHJpcEZvcm0oKTtcclxuICAkKFwiI2pzLWFkZC10cmlwLWZvcm1cIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBpdGVtID0gZ2V0VHJpcEZvcm1EZXRhaWxzKGUpO1xyXG4gICAgaXRlbS50cmlwRGF0ZXMgPSBjb252ZXJ0RGF0ZUludG9Nb25nb0RCKGl0ZW0udHJpcERhdGVzKTtcclxuICAgIGFkZFRyaXBJdGVtKGl0ZW0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUcmlwRm9ybURldGFpbHMoZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAkKGUuY3VycmVudFRhcmdldCkuZmluZCgnI2pzLW5ldy1uYW1lJykudmFsKCksXHJcbiAgICBsb2NhdGlvbjogJChlLmN1cnJlbnRUYXJnZXQpLmZpbmQoJyNqcy1uZXctbG9jYXRpb24nKS52YWwoKSxcclxuICAgIGNvbnRlbnQ6ICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCcjanMtbmV3LXRleHRBcmVhJykudmFsKCksXHJcbiAgICB0cmlwRGF0ZXM6ICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCcjanMtbmV3LWRhdGVzJykudmFsKClcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gcmVuZGVyQWRkUGxhY2VGb3JtKCl7XHJcbiAgJCgnLnBvcHVwLWNvbnRlbnQtdmlldy1hZGRQbGFjZUZvcm0nKS5odG1sKGAgICAgICAgIFxyXG4gICAgPGgzPlBsZWFzZSwgYWRkIHBsYWNlIHlvdSBoYXZlIHZpc2l0ZWQgPC9oMz5cclxuICAgIDxkaXYgY2xhc3M9XCJhZGRQbGFjZUZvcm0tY29udHJvbHNcIj5cclxuICBcclxuICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24ganMtdHJpcC1pdGVtLWFkZFBsYWNlXCI+XHJcbiAgICAgIEFkZFxyXG4gICAgPC9idXR0b24+XHJcbiAgXHJcbiAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLXRyaXAtaXRlbS1za2lwQWRkVHJpcFwiPlxyXG4gICAgICAgU2tpcFxyXG4gICAgPC9idXR0b24+XHJcbiAgXHJcbiAgPGRpdj5cclxuYCk7XHJcbn1cclxuZnVuY3Rpb24gaGFuZGxlU2tpcEFkZFBsYWNlRm9ybSgpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5qcy10cmlwLWl0ZW0tc2tpcEFkZFRyaXAnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgJChcIi5wb3B1cC1vdmVybGF5LXZpZXctYWRkUGxhY2VGb3JtLCAucG9wdXAtY29udGVudC12aWV3LWFkZFBsYWNlRm9ybVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoXCIuYm94LXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59XHJcbi8vLUVuZCBCbG9jay0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vRGVsZXRlIHRyaXAgaXRlbS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5mdW5jdGlvbiBkZWxldGV0cmlwKHRyaXBJZCkge1xyXG4gIGNvbnNvbGUubG9nKCdEZWxldGluZyB0cmlwIGAnICsgdHJpcElkICsgJ2AnKTtcclxuICAkLmFqYXgoe1xyXG4gICAgdXJsOiBUUklQX0xJU1RfVVJMICsgJy8nICsgdHJpcElkLFxyXG4gICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgIHN1Y2Nlc3M6IGdldEFuZERpc3BsYXlUcmlwTGlzdFxyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlVHJpcERlbGV0ZSgpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5qcy10cmlwLWl0ZW0tZGVsZXRlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRlbGV0ZXRyaXAoXHJcbiAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuanMtdHJpcC1pdGVtJykuYXR0cignaWQnKSk7XHJcblxyXG4gIH0pO1xyXG5cclxuICAkLmdldEpTT04oVFJJUF9MSVNUX1VSTCwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICBpZihpdGVtcy5sZW5ndGghPT0wKXtcclxuICAgICAgcmVuZGVyU2VsZWN0ZWRNYXAoaXRlbXNbMF0ubG9jYXRpb24pO1xyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuLy8tRW5kIEJsb2NrLS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy9DcmVhdGUoYWRkKSBwbGFjZSB5b3UgaGF2ZSBiZWVuIHZpc2l0ZWQgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZFBsYWNlKCkge1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnLmpzLXRyaXAtaXRlbS1hZGRQbGFjZSwgLnRyaXAtaXRlbS1hZGQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJCgnLnBvcHVwLW92ZXJsYXktdmlldy1hZGRQbGFjZUZvcm0sIC5wb3B1cC1jb250ZW50LXZpZXctYWRkUGxhY2VGb3JtJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKCcucG9wdXAtb3ZlcmxheS1hZGQtcGxhY2UsIC5wb3B1cC1jb250ZW50LWFkZC1wbGFjZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5ib3gtcGFyZW50XCIpLmFkZENsYXNzKFwiaW5hY3RpdmVcIik7XHJcbiAgICBhZGRQbGFjZUZvcm0oKTtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFBsYWNlRm9ybSgpe1xyXG4gICQoJy5wb3B1cC1jb250ZW50LWFkZC1wbGFjZScpLmh0bWwoYCAgICAgICAgXHJcbiAgPGZvcm0gaWQ9XCJqcy1hZGQtcGxhY2UtZm9ybVwiPlxyXG4gIDxsYWJlbCBmb3I9XCJqcy1hZGQtcGxhY2UtZm9ybVwiPjxzcGFuPiA8aDQ+UGxlYXNlIGFkZCBwbGFjZSB5b3UgaGF2ZSB2aXNpdGVkIGluICR7bG9jYXRpb259IDwvaDQ+IDwvc3Bhbj48L2xhYmVsPlxyXG4gIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJqcy10cmlwLXBsYWNlLW5hbWVcIiBpZD1cImpzLXBsYWNlLW5hbWVcIiBwbGFjZWhvbGRlcj1cIkdvbGRlbiBHYXRlIEJyaWRnZSwgU2FuIEZyYW5jaXNjbyAuLi4uXCIgcmVxdWlyZWQ+PGJyPlxyXG4gIFxyXG4gIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnV0dG9uXCIgaWQ9XCJhZGRQbGFjZVwiPlxyXG4gICAgQWRkXHJcbiAgPC9idXR0b24+XHJcbiAgXHJcbiAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBqcy10cmlwLWFkZFBsYWNlLWNsb3NlXCI+XHJcbiAgICBDYW5jZWxcclxuICA8L2J1dHRvbj5cclxuXHJcbiAgPC9mb3JtPlxyXG5gKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2xvc2VBZGRQbGFjZVZpZXcoKSB7XHJcbiAgJCgnbWFpbicpLm9uKCdjbGljaycsICcuanMtdHJpcC1hZGRQbGFjZS1jbG9zZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKCcucG9wdXAtb3ZlcmxheS1hZGQtcGxhY2UsIC5wb3B1cC1jb250ZW50LWFkZC1wbGFjZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5ib3gtcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcblxyXG4gIH0pO1xyXG59XHJcbmNvbnN0IHNhdmVBbmRSZW5kZXJNYXJrZXIgPSBmdW5jdGlvbiAocGxhY2UpIHtcclxuICByZXR1cm4gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICBjb25zdCBsYXQgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0O1xyXG4gICAgY29uc3QgbG5nID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZztcclxuXHJcbiAgICBjb25zdCBpdGVtUGxhY2UgPSB7XHJcbiAgICAgIG5hbWU6IHBsYWNlLFxyXG4gICAgICBsYXQ6IGxhdCxcclxuICAgICAgbG5nOiBsbmdcclxuICAgIH1cclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICB1cmw6IFRSSVBfTElTVF9VUkwrYC8ke3NlbGVjdGVkSWR9L3BsYWNlc2AsXHJcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGl0ZW1QbGFjZSksXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBnZXRBbmREaXNwbGF5VHJpcExpc3QoKTtcclxuICAgICAgfSxcclxuICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgIH0pXHJcblxyXG4gICAgZGlzcGxheVBsYWNlT25NYXAoaXRlbVBsYWNlKTtcclxuICAgICQoJy5wb3B1cC1vdmVybGF5LWFkZC1wbGFjZSwgLnBvcHVwLWNvbnRlbnQtYWRkLXBsYWNlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKCcucG9wdXAtb3ZlcmxheS12aWV3LW9uZU1vcmVQbGFjZSwgLnBvcHVwLWNvbnRlbnQtdmlldy1vbmVNb3JlUGxhY2UnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoJy5wb3B1cC1jb250ZW50LXZpZXctb25lTW9yZVBsYWNlJykuaHRtbChgICAgICAgICBcclxuICAgIDxkaXYgaWQ9XCJqcy1hZGQtb25lTW9yZVBsYWNlXCI+XHJcblxyXG4gICAgPGgyPkFkZCBvbmUgbW9yZSBwbGFjZT88L2gyPlxyXG4gICAgXHJcbiAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz0gXCJidXR0b25cIiBpZD1cImFkZE9uZU1vcmVQbGFjZVwiPlxyXG4gICAgICBZZXNcclxuICAgIDwvYnV0dG9uPlxyXG4gICAgXHJcbiAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLXRyaXAtYWRkT25lTW9yZVBsYWNlLWNhbmNlbFwiPlxyXG4gICAgICBOb1xyXG4gICAgPC9idXR0b24+XHJcblxyXG4gICAgPC9kaXY+XHJcbiAgICBgKTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRPbmVNb3JlUGxhY2UoKXtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJyNhZGRPbmVNb3JlUGxhY2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJChcIi5wb3B1cC1vdmVybGF5LXZpZXctb25lTW9yZVBsYWNlLCAucG9wdXAtY29udGVudC12aWV3LW9uZU1vcmVQbGFjZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoJy5wb3B1cC1vdmVybGF5LWFkZC1wbGFjZSwgLnBvcHVwLWNvbnRlbnQtYWRkLXBsYWNlJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKCcjanMtcGxhY2UtbmFtZScpLnZhbCgnJyk7XHJcbiAgICAvLyQoXCIuYm94LXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG4gIGFkZFBsYWNlRm9ybSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYW5jZWxBZGRPbmVNb3JlUGxhY2UoKXtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5qcy10cmlwLWFkZE9uZU1vcmVQbGFjZS1jYW5jZWwnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJChcIi5wb3B1cC1vdmVybGF5LXZpZXctb25lTW9yZVBsYWNlLCAucG9wdXAtY29udGVudC12aWV3LW9uZU1vcmVQbGFjZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoXCIuYm94LXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG5cclxufVxyXG53aW5kb3cuc2F2ZUFuZFJlbmRlck1hcmtlciA9IHNhdmVBbmRSZW5kZXJNYXJrZXI7XHJcbmZ1bmN0aW9uIGhhbmRsZVNhdmVOZXdQbGFjZSgpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJyNhZGRQbGFjZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgcGxhY2UgPSAkKCcjanMtYWRkLXBsYWNlLWZvcm0nKS5maW5kKCdpbnB1dFtuYW1lPVwianMtdHJpcC1wbGFjZS1uYW1lXCJdJykudmFsKCk7XHJcbiBcclxuICAgIGdldENvb3Jkc09mUGxhY2UocGxhY2UpXHJcbiAgICAgIC50aGVuKHNhdmVBbmRSZW5kZXJNYXJrZXIocGxhY2UpKVxyXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuLy8tRW5kIEJsb2NrLS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLy8gVmlldyhlZGl0KSB0cmlwIGNvbW1lbnRzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIGhhZGxlVmlld1RyaXAoKSB7XHJcbiAgJCgnbWFpbicpLm9uKCdjbGljaycsICcuanMtdHJpcC1pdGVtLXZpZXcnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJCgnLnBvcHVwLW92ZXJsYXktdmlldy1mdWxsVHJpcCwgLnBvcHVwLWNvbnRlbnQtdmlldy1mdWxsVHJpcCcpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5ib3gtcGFyZW50XCIpLmFkZENsYXNzKFwiaW5hY3RpdmVcIik7XHJcblxyXG4gICAgdmFyIGVsZW1lbnQgPSAkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdChcIi5qcy10cmlwLWl0ZW1cIik7XHJcbiAgICB2YXIgaXRlbTtcclxuICAgICQuZ2V0SlNPTihUUklQX0xJU1RfVVJMLCBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgICAgaXRlbSA9IGl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBlbGVtZW50LmF0dHIoXCJpZFwiKSk7XHJcbiAgICAgIHVwZGF0ZVZpZXdGdWxsVHJpcChpdGVtKTtcclxuICAgIH0pO1xyXG5cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVmlld0Z1bGxUcmlwKGl0ZW0pIHtcclxuICAkKCcucG9wdXAtY29udGVudC12aWV3LWZ1bGxUcmlwJykuaHRtbChgICAgICAgICBcclxuICA8ZGl2IGlkPVwiZnVsbC10cmlwLXZpZXdcIj5cclxuICAgIDxwPjxzcGFuIGNsYXNzPVwidHJpcC1pdGVtIGpzLWZ1bGwtdHJpcC1jb250ZW50XCI+PC9zcGFuPiR7aXRlbS5jb250ZW50fTwvcD5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwiZnVsbC10cmlwLWNvbnRyb2xzXCI+XHJcbiAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBqcy10cmlwLWl0ZW0tZWRpdGNvbnRlbnRcIj5cclxuICAgIEVkaXRcclxuICA8L2J1dHRvbj5cclxuICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGpzLXRyaXAtaXRlbS1jbG9zZVwiPlxyXG4gICAgQ2FuY2VsXHJcbiAgPC9idXR0b24+XHJcbjxkaXY+XHJcbmApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDb250ZW50RWRpdCgpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5qcy10cmlwLWl0ZW0tZWRpdGNvbnRlbnQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHJcbiAgICAkLmdldEpTT04oVFJJUF9MSVNUX1VSTCwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICAgIHZhciBpdGVtID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHNlbGVjdGVkSWQpO1xyXG4gICAgICBnZXRDb250ZW50Rm9ybVdpdGhEZXRhaWxzKGl0ZW0pO1xyXG4gICAgICBzYXZlVXBkYXRlZENvbnRlbnQoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9KTsgICAgXHJcbn1cclxuZnVuY3Rpb24gaGFuZGxlQ2xvc2VGdWxsVmlldygpIHtcclxuICAkKCdtYWluJykub24oJ2NsaWNrJywgJy5qcy10cmlwLWl0ZW0tY2xvc2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJChcIi5wb3B1cC1vdmVybGF5LXZpZXctZnVsbFRyaXAsIC5wb3B1cC1jb250ZW50LXZpZXctZnVsbFRyaXBcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKFwiLmJveC1wYXJlbnRcIikucmVtb3ZlQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuICB9KTtcclxufVxyXG4vLy1FbmQgQmxvY2stLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLyBFZGl0IHRyaXAgaXRlbSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIGhhbmRsZVRyaXBFZGl0KCkge1xyXG4gICQoJ21haW4nKS5vbignY2xpY2snLCAnLmpzLXRyaXAtaXRlbS1lZGl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICQuZ2V0SlNPTihUUklQX0xJU1RfVVJMLCBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgICAgdmFyIGl0ZW0gPSBpdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gc2VsZWN0ZWRJZCk7XHJcbiAgICAgIGdldFRyaXBGb3JtV2l0aERldGFpbHMoaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIHNhdmVVcGRhdGVkVHJpcChzZWxlY3RlZElkKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VHJpcEZvcm1XaXRoRGV0YWlscyhpdGVtKSB7XHJcbiAgJCgnI2pzLXVwZC10cmlwLWZvcm0nKS5maW5kKCcjanMtdXBkLW5hbWUnKS52YWwoaXRlbS5uYW1lKTtcclxuICAkKCcjanMtdXBkLXRyaXAtZm9ybScpLmZpbmQoJyNqcy11cGQtbG9jYXRpb24nKS52YWwoaXRlbS5sb2NhdGlvbik7XHJcbiAgJCgnI2pzLXVwZC10cmlwLWZvcm0nKS5maW5kKCcjanMtdXBkLXRleHRBcmVhJykudmFsKGl0ZW0uY29udGVudCk7XHJcbiAgdmFyIGNvbnZlcnRlZFRyaXBEYXRlcyA9IGNvbnZlcnREYXRlRnJvbU1vbmdvREIoaXRlbS50cmlwRGF0ZXMpO1xyXG4gICQoJyNqcy11cGQtdHJpcC1mb3JtJykuZmluZCgnI2pzLXVwZC1kYXRlcycpLnZhbChjb252ZXJ0ZWRUcmlwRGF0ZXMpO1xyXG5cclxuICAkKCcucG9wdXAtb3ZlcmxheS11cGQtdHJpcCwgLnBvcHVwLWNvbnRlbnQtdXBkLXRyaXAnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAkKFwiLmJveC1wYXJlbnRcIikuYWRkQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q29udGVudEZvcm1XaXRoRGV0YWlscyhpdGVtKSB7XHJcbiAgJCgnI2pzLXVwZC1jb250ZW50LWZvcm0nKS5maW5kKCcjanMtdXBkLXRleHRBcmVhJykudmFsKGl0ZW0uY29udGVudCk7XHJcbiAgJCgnLnBvcHVwLW92ZXJsYXktdmlldy1mdWxsVHJpcCwgLnBvcHVwLWNvbnRlbnQtdmlldy1mdWxsVHJpcCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAkKCcucG9wdXAtb3ZlcmxheS12aWV3LWNvbnRlbnQsIC5wb3B1cC1jb250ZW50LXZpZXctY29udGVudCcpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICQoXCIuYm94LXBhcmVudFwiKS5hZGRDbGFzcyhcImluYWN0aXZlXCIpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2F2ZVVwZGF0ZWRDb250ZW50KGl0ZW0pe1xyXG5cclxuICAkKFwiI2pzLXVwZC1jb250ZW50LWZvcm1cIikub24oXCJjbGlja1wiLCBcIiN1cGRhdGVjb250ZW50XCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIFxyXG4gICAgdmFyIG5ld0l0ZW0gPSB7XHJcbiAgICAgIGlkOiBpdGVtLmlkLFxyXG4gICAgICBuYW1lOiBpdGVtLm5hbWUsXHJcbiAgICAgIGxvY2F0aW9uOiBpdGVtLmxvY2F0aW9uLFxyXG4gICAgICBjb250ZW50OiAkKCcjanMtdXBkLWNvbnRlbnQtZm9ybScpLmZpbmQoJ3RleHRhcmVhJykudmFsKCksXHJcbiAgICAgIHRyaXBEYXRlczogaXRlbS50cmlwZGF0ZXNcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFRSSVBfTElTVF9VUkwgKyBcIi9cIiArIG5ld0l0ZW0uaWQpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgdHJpcCBpdGVtIGBcIiArIG5ld0l0ZW0uaWQgKyBcImBcIik7XHJcbiAgICBjb25zb2xlLmxvZyhuZXdJdGVtKTtcclxuXHJcbiAgICBpZiAoc2VsZWN0ZWRJZCA9PT0gbmV3SXRlbS5pZCkge1xyXG4gICAgICBydW5BamF4KG5ld0l0ZW0pO1xyXG4gICAgICAkKFwiLnBvcHVwLW92ZXJsYXktdmlldy1jb250ZW50LCAucG9wdXAtY29udGVudC12aWV3LWNvbnRlbnRcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICQoXCIuYm94LXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZVVwZGF0ZWRUcmlwKHRyaXBJZCkge1xyXG4gICQoXCIjanMtdXBkLXRyaXAtZm9ybVwiKS5vbihcImNsaWNrXCIsIFwiI3VwZGF0ZXRyaXBcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBpdGVtID0ge1xyXG4gICAgICBpZDogdHJpcElkLFxyXG4gICAgICBuYW1lOiAkKCcjanMtdXBkLXRyaXAtZm9ybScpLmZpbmQoJ2lucHV0W25hbWU9XCJqcy11cGQtdHJpcC1mb3JtLW5hbWVcIl0nKS52YWwoKSxcclxuICAgICAgbG9jYXRpb246ICQoJyNqcy11cGQtdHJpcC1mb3JtJykuZmluZCgnaW5wdXRbbmFtZT1cImpzLXVwZC10cmlwLWZvcm0tbG9jYXRpb25cIl0nKS52YWwoKSxcclxuICAgICAgdHJpcERhdGVzOiAkKCcjanMtdXBkLXRyaXAtZm9ybScpLmZpbmQoJ2lucHV0W25hbWU9XCJqcy11cGQtdHJpcC1mb3JtLWRhdGVzXCJdJykudmFsKCksXHJcbiAgICB9O1xyXG4gICAgY29uc29sZS5sb2coaXRlbS5jb250ZW50KTtcclxuICAgIHZhciBtb25nb0Zvcm1hdERhdGUgPSBpdGVtLnRyaXBEYXRlcztcclxuICAgIGl0ZW0udHJpcERhdGVzID0gY29udmVydERhdGVJbnRvTW9uZ29EQihtb25nb0Zvcm1hdERhdGUpO1xyXG4gICAgY29uc29sZS5sb2coVFJJUF9MSVNUX1VSTCArIFwiL1wiICsgaXRlbS5pZCk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHRyaXAgaXRlbSBgXCIgKyBpdGVtLmlkICsgXCJgXCIpO1xyXG4gICAgaWYgKHNlbGVjdGVkSWQgPT09IGl0ZW0uaWQpIHtcclxuICAgICAgcnVuQWpheChpdGVtKTsgIFxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBydW5BamF4KGl0ZW0pIHtcclxuICAkLmFqYXgoe1xyXG4gICAgICB1cmw6IFRSSVBfTElTVF9VUkwgKyBcIi9cIiArIGl0ZW0uaWQsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoaXRlbSksXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgZ2V0QW5kRGlzcGxheVRyaXBMaXN0KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAkKFwiLnBvcHVwLW92ZXJsYXktdXBkLXRyaXAsIC5wb3B1cC1jb250ZW50LXVwZC10cmlwXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAkKFwiLmJveC1wYXJlbnRcIikucmVtb3ZlQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuICAgICAgJCgnI2pzLXVwZC1uYW1lJykudmFsKCcnKTtcclxuICAgICAgJCgnI2pzLXVwZC1sb2NhdGlvbicpLnZhbCgnJyk7XHJcbiAgICAgICQoJyNqcy11cGQtdGV4dEFyZWEnKS52YWwoJycpO1xyXG4gICAgICAkKCcjanMtdXBkLWRhdGVzJykudmFsKCcnKTtcclxuICAgIH0pXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgdHJpcCBsaXN0OiBcIiArIGl0ZW0pO1xyXG4gICAgICBnZXRBbmREaXNwbGF5VHJpcExpc3QoKTtcclxuICAgICAgdmFyIG1vbmdvRm9ybWF0RGF0ZSA9IGAke2l0ZW0udHJpcERhdGVzLnN0YXJ0RGF0ZX0vJHtpdGVtLnRyaXBEYXRlcy5lbmREYXRlfWA7XHJcbiAgICAgIGl0ZW0udHJpcERhdGVzID0gY29udmVydERhdGVGcm9tTW9uZ29EQihtb25nb0Zvcm1hdERhdGUpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNsb3NlRWRpdFZpZXcoKSB7XHJcbiAgJCgnbWFpbicpLm9uKCdjbGljaycsICcuanMtdHJpcC11cGQtY2xvc2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJChcIi5wb3B1cC1vdmVybGF5LXZpZXctY29udGVudCwgLnBvcHVwLWNvbnRlbnQtdmlldy1jb250ZW50XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJChcIi5wb3B1cC1vdmVybGF5LXVwZC10cmlwLCAucG9wdXAtY29udGVudC11cGQtdHJpcFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQoXCIuYm94LXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59XHJcbi8vLUVuZCBCbG9jay0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vSGFuZGxlIG9uIHNlbGVjdGVkIHRyaXAgZXZlbnQgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gaGFuZGxlU2VsZWN0VHJpcCgpIHtcclxuICB2YXIgcHJldkVsZW1lbnQ7XHJcbiAgJCgnbWFpbicpLm9uKCdjbGljaycsICcudHJpcC10aXRsZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgZWxlbWVudCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzLXRyaXAtaXRlbVwiKTtcclxuICAgIHNlbGVjdGVkSWQgPSBlbGVtZW50LmF0dHIoXCJpZFwiKTtcclxuICAgIHNob3dQbGFjZXMoc2VsZWN0ZWRJZCk7XHJcbiAgICBpZiAoIXByZXZFbGVtZW50KSB7XHJcbiAgICAgIHZhciBjdXJyZW50RWxlbWVudCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzLXRyaXAtaXRlbVwiKTtcclxuICAgICAgbG9jYXRpb24gPSBjdXJyZW50RWxlbWVudC5maW5kKFwiLmpzLXRyaXAtaXRlbS1sb2NhdGlvblwiKS50ZXh0KCk7XHJcbiAgICAgIGN1cnJlbnRFbGVtZW50LmZpbmQoXCIudHJpcC1jb250cm9sc1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgcmVuZGVyU2VsZWN0ZWRNYXAobG9jYXRpb24pO1xyXG4gICAgICBwcmV2RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xyXG4gICAgfSBlbHNlIGlmIChwcmV2RWxlbWVudCAhPT0gY3VycmVudEVsZW1lbnQpIHtcclxuICAgICAgcHJldkVsZW1lbnQuZmluZChcIi50cmlwLWNvbnRyb2xzXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSAkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdChcIi5qcy10cmlwLWl0ZW1cIik7XHJcbiAgICAgIGxvY2F0aW9uID0gY3VycmVudEVsZW1lbnQuZmluZChcIi5qcy10cmlwLWl0ZW0tbG9jYXRpb25cIikudGV4dCgpO1xyXG4gICAgICBjdXJyZW50RWxlbWVudC5maW5kKFwiLnRyaXAtY29udHJvbHNcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICByZW5kZXJTZWxlY3RlZE1hcChsb2NhdGlvbik7XHJcbiAgICAgIHByZXZFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclNlbGVjdGVkTWFwKGxvY2F0aW9uKXtcclxuICBheGlvcy5nZXQoJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24nLCB7XHJcbiAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgYWRkcmVzczogbG9jYXRpb24sXHJcbiAgICAgICAgICAgIGtleTogJ0FJemFTeUJwdmp0NXpCcTIzV3U2ZVpIdlZ1QUhFanhkMUdnRGJNZydcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGdlb2NvZGVBZGRyZXNzKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuLy8tRW5kIEJsb2NrLS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcbi8vRnVuY3Rpb25zIGNvbnZlcnRpbmcgYW5kIHNhdmluZyB0cmlwIGRhdGVzIHdpdGggTW9uZ29EQi8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREYXRlSW50b01vbmdvREIobW9uZ29Gb3JtYXREYXRlKSB7XHJcbiAgdmFyIGFycmF5ID0gbW9uZ29Gb3JtYXREYXRlLnNwbGl0KCctJyk7XHJcbiAgdmFyIHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKGFycmF5WzBdKTtcclxuICB2YXIgZW5kRGF0ZSA9IG5ldyBEYXRlKGFycmF5WzFdKTtcclxuICB2YXIgdHJpcERhdGVzID0ge1xyXG4gICAgc3RhcnREYXRlOiB7XHJcbiAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgZW5kRGF0ZToge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxuICB0cmlwRGF0ZXMuc3RhcnREYXRlID0gc3RhcnREYXRlO1xyXG4gIHRyaXBEYXRlcy5lbmREYXRlID0gZW5kRGF0ZTtcclxuICByZXR1cm4gdHJpcERhdGVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydERhdGVGcm9tTW9uZ29EQihtb25nb0Zvcm1hdERhdGUpIHtcclxuICB2YXIgYXJyYXkgPSBtb25nb0Zvcm1hdERhdGUuc3BsaXQoJy8nKTtcclxuICB2YXIgc3RhcnREYXRlID0gbmV3IERhdGUoYXJyYXlbMF0pO1xyXG4gIHZhciBlbmREYXRlID0gbmV3IERhdGUoYXJyYXlbMV0pO1xyXG4gIHZhciBjb252ZXJ0ZWRTdGFydERhdGUgPSBgJHtzdGFydERhdGUuZ2V0TW9udGgoKSsxfS8ke3N0YXJ0RGF0ZS5nZXREYXRlKCl9LyR7c3RhcnREYXRlLmdldEZ1bGxZZWFyKCl9YFxyXG4gIHZhciBjb252ZXJ0ZWRFbmREYXRlID0gYCR7ZW5kRGF0ZS5nZXRNb250aCgpKzF9LyR7ZW5kRGF0ZS5nZXREYXRlKCl9LyR7ZW5kRGF0ZS5nZXRGdWxsWWVhcigpfWBcclxuICB2YXIgY29udmVydGVkRnVsbERhdGUgPSBgJHtjb252ZXJ0ZWRTdGFydERhdGV9IC0gJHtjb252ZXJ0ZWRFbmREYXRlfWA7XHJcbiAgcmV0dXJuIGNvbnZlcnRlZEZ1bGxEYXRlO1xyXG59XHJcbi8vLUVuZCBCbG9jay0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8vRnVuY3Rpb24gZm9yIHNob3cgdXAgbWFya2VycyhwbGFjZXMgb24gR29vZ2xlIE1hcHMpLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dQbGFjZXMoc2VsZWN0ZWRJZCl7XHJcbiAgJC5nZXRKU09OKFRSSVBfTElTVF9VUkwsIGZ1bmN0aW9uIChpdGVtcykge1xyXG4gICAgdmFyIGl0ZW0gPSBpdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gc2VsZWN0ZWRJZCk7XHJcbiAgICAgIGZvcihsZXQgaT0wOyBpPGl0ZW0ucGxhY2VzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBkaXNwbGF5UGxhY2VPbk1hcChpdGVtLnBsYWNlc1tpXSk7XHJcbiAgICAgIH1cclxuICB9KTtcclxufVxyXG4vLy1FbmQgQmxvY2stLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG53aW5kb3cuaW5pdE1hcCA9IGluaXRNYXA7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICBnZXRBbmREaXNwbGF5VHJpcExpc3QoKTtcclxuICBoYW5kbGVUcmlwRGVsZXRlKCk7XHJcbiAgaGFuZGxlU2VsZWN0VHJpcCgpO1xyXG4gIGhhbmRsZVRyaXBMaXN0QWRkKCk7XHJcbiAgaGFuZGxlVHJpcEVkaXQoKTtcclxuICBoYW5kbGVBZGRQbGFjZSgpO1xyXG4gIGhhZGxlVmlld1RyaXAoKTtcclxuICBoYW5kbGVDbG9zZUZ1bGxWaWV3KCk7XHJcbiAgaGFuZGxlQ2xvc2VFZGl0VmlldygpO1xyXG4gIGhhbmRsZUNsb3NlQWRkUGxhY2VWaWV3KCk7XHJcbiAgaGFuZGxlU2F2ZU5ld1BsYWNlKCk7XHJcbiAgaGFuZGxlU2tpcEFkZFBsYWNlRm9ybSgpO1xyXG4gIGhhbmRsZUFkZE9uZU1vcmVQbGFjZSgpO1xyXG4gIGhhbmRsZUNhbmNlbEFkZE9uZU1vcmVQbGFjZSgpO1xyXG4gIGhhbmRsZUNvbnRlbnRFZGl0KCk7XHJcbiAgaGFuZGxlQ2xvc2VOZXdUcmlwRm9ybSgpO1xyXG59KSIsIlxyXG4vL3ZhciBzZXJ2ZXJCYXNlID0gXCIvL2xvY2FsaG9zdDo4MDgwL1wiO1xyXG5jb25zdCB7IHNlcnZlckJhc2UgfSA9IHJlcXVpcmUoJy4uL2NvbmZpZycpO1xyXG52YXIgVFJJUF9MSVNUX1VSTCA9IHNlcnZlckJhc2UgKyAndHJpcC1saXN0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TWFwKCkge1xyXG4gIHZhciBsYXN0SXRlbTtcclxuICAkLmdldEpTT04oVFJJUF9MSVNUX1VSTCwgZnVuY3Rpb24gKGl0ZW1zKSB7XHJcblxyXG4gICAgbGFzdEl0ZW0gPSBpdGVtc1swXTtcclxuICAgIGNvbnNvbGUubG9nKGxhc3RJdGVtLmxvY2F0aW9uKTtcclxuICB9KS50aGVuKChsYXN0SXRlbSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2cobGFzdEl0ZW1bMF0ubG9jYXRpb24pO1xyXG4gICAgYXhpb3MuZ2V0KCdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uJywge1xyXG4gICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgYWRkcmVzczogbGFzdEl0ZW1bMF0ubG9jYXRpb24sXHJcbiAgICAgICAgICBrZXk6ICdBSXphU3lCcHZqdDV6QnEyM1d1NmVaSHZWdUFIRWp4ZDFHZ0RiTWcnXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihcclxuICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgIGdlb2NvZGVBZGRyZXNzKHJlc3BvbnNlKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICB9KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgbWFwO1xyXG5leHBvcnQgZnVuY3Rpb24gZ2VvY29kZUFkZHJlc3MocmVzcG9uc2UpIHtcclxuXHJcbiAgLy8gTG9nIGZ1bGwgcmVzcG9uc2VcclxuICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcblxyXG4gIC8vIEZvcm1hdHRlZCBBZGRyZXNzXHJcbiAgdmFyIGZvcm1hdHRlZEFkZHJlc3MgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3M7XHJcblxyXG4gIC8vIEdlb21ldHJ5XHJcbiAgdmFyIGxhdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQ7XHJcbiAgdmFyIGxuZyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sbmc7XHJcblxyXG4gIGNvbnNvbGUubG9nKGxhdCk7XHJcbiAgY29uc29sZS5sb2cobG5nKTtcclxuICBjb25zb2xlLmxvZyhmb3JtYXR0ZWRBZGRyZXNzKTtcclxuICBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xyXG4gICAgY2VudGVyOiB7XHJcbiAgICAgIGxhdDogTnVtYmVyKGxhdCksXHJcbiAgICAgIGxuZzogTnVtYmVyKGxuZylcclxuICAgIH0sXHJcbiAgICB6b29tOiAxMlxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmRzT2ZQbGFjZShwbGFjZSkge1xyXG4gIHJldHVybiBheGlvcy5nZXQoJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24nLCB7XHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgYWRkcmVzczogcGxhY2UsXHJcbiAgICAgIGtleTogJ0FJemFTeUJwdmp0NXpCcTIzV3U2ZVpIdlZ1QUhFanhkMUdnRGJNZydcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVBsYWNlT25NYXAoaXRlbVBsYWNlKSB7XHJcblxyXG4gIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgIGxhdDogTnVtYmVyKGl0ZW1QbGFjZS5sYXQpLFxyXG4gICAgICBsbmc6IE51bWJlcihpdGVtUGxhY2UubG5nKVxyXG4gICAgfSxcclxuICAgIG1hcDogbWFwLFxyXG4gICAgaWNvbjogJ2h0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL21hcHMvZG9jdW1lbnRhdGlvbi9qYXZhc2NyaXB0L2V4YW1wbGVzL2Z1bGwvaW1hZ2VzL2JlYWNoZmxhZy5wbmcnXHJcbiAgfSk7XHJcbn0iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==